(this["webpackJsonpc-portfolio-client"]=this["webpackJsonpc-portfolio-client"]||[]).push([[0],{141:function(e,t,a){e.exports=a(280)},277:function(e,t,a){},278:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),l=a.n(c),o=a(10);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=a(22),i=a(65),m=a(139),s=a(24),d=a.n(s),E=a(19),f=a(33),p=a(23),b=a(9),h=a.n(b),v=a(17);d.a.defaults.baseURL="https://cportfolio.herokuapp.com";var j,O=function(){return localStorage.getItem("token")},g=function(e){return localStorage.setItem("token",e)},y=function(){return localStorage.removeItem("token")},k=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/users/authenticate",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/users/current");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/content/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/content/create",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("".concat("/content/").concat(t.get("id")),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("".concat("/content/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/profile/create",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("".concat("/profile/").concat(t.id),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("".concat("/profile/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat("/profile/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/users/update",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=Object(p.a)("content/getContent",x),G=Object(p.a)("content/createContent",C),P=Object(p.a)("content/editContent",N),T=Object(p.a)("content/deleteContent",I),K=Object(p.b)({name:"content",initialState:[],reducers:{},extraReducers:Object(E.a)({"user/logout":function(){return[]}},H.fulfilled,(function(e,t){return Object(f.a)(t.payload.data)}))}).reducer,V=a(7),B=Object(p.a)("user/login",k),R=Object(p.a)("user/authenticate",w),U=Object(p.a)("user/update",A),M=Object(p.b)({name:"user",initialState:{isAuthenticated:null!==O()},reducers:{setUser:function(e,t){return Object(V.a)(Object(V.a)(Object(V.a)({},e),t.payload.data),{},{token:O(),isAuthenticated:!0})},logout:function(){return y(),{isAuthenticated:!1}}},extraReducers:(j={},Object(E.a)(j,B.fulfilled,(function(e,t){return g(t.payload.data.token),Object(V.a)(Object(V.a)(Object(V.a)({},e),t.payload.data),{},{isAuthenticated:!0})})),Object(E.a)(j,R.fulfilled,(function(e,t){return Object(V.a)(Object(V.a)(Object(V.a)({},e),t.payload.data),{},{isAuthenticated:!0})})),Object(E.a)(j,R.rejected,(function(){return y(),{isAuthenticated:!1}})),j)}),_=M.actions,z=_.logout,W=(_.setUser,M.reducer),Y=Object(p.a)("profile/createProfile",S),q=Object(p.a)("profile/getProfile",F),J=Object(p.a)("profile/updateProfile",L),$=Object(p.a)("profile/deleteProfile",D),Q=Object(p.b)({name:"profile",initialState:{education:[],experience:[],projects:[]},reducers:{},extraReducers:Object(E.a)({"user/logout":function(){return{}}},q.fulfilled,(function(e,t){return Object(V.a)({},t.payload.data)}))}).reducer,X=Object(u.combineReducers)({profile:Q,content:K,user:W}),Z=[i.a,function(){return function(e){return function(t){return d.a.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("token")),e(t)}}}],ee=[u.applyMiddleware.apply(void 0,Z)],te=m.composeWithDevTools.apply(void 0,ee),ae=Object(u.createStore)(X,{},te),ne=a(30),re=a(18),ce=a(42),le=a(11),oe=a(25),ue=a(12),ie=a(6),me=a(8);function se(e){var t=e.onLogin,a=Object(n.useState)({email:"",password:""}),c=Object(ue.a)(a,2),l=c[0],u=c[1],i=Object(o.b)(),m=function(e){return u(Object(V.a)(Object(V.a)({},l),{},Object(E.a)({},e.target.id,e.target.value)))};return r.a.createElement("div",{className:"form-box"},r.a.createElement(ie.a,{className:"login-form",onSubmit:function(e){e.preventDefault(),i(B(l)).then((function(){return t()}))}},r.a.createElement("h2",null,"Login"),r.a.createElement("hr",null),r.a.createElement(ie.a.Group,null,r.a.createElement(ie.a.Control,{type:"email",id:"email",placeholder:"Email Address",value:l.email,onChange:m,className:"form-control"})),r.a.createElement(ie.a.Group,null,r.a.createElement(ie.a.Control,{type:"password",id:"password",placeholder:"Password",value:l.password,onChange:m,className:"form-control"})),r.a.createElement(me.a,{type:"submit",variant:"primary"},"Login")))}function de(){var e=Object(re.g)();return r.a.createElement(ce.a,{fluid:!0},r.a.createElement(le.a,{className:"no-gutter"},r.a.createElement(oe.a,{className:"bg-info d-flex justify-content-center"},r.a.createElement("div",{className:"splash-container"},r.a.createElement("h1",{className:"display-3 text-white"},"cPortfolio"))),r.a.createElement(oe.a,null,r.a.createElement("div",{className:"splash-container"},r.a.createElement(se,{onLogin:function(){return e.push("/dashboard")}})))))}var Ee=a(140),fe=a(13);function pe(){var e=Object(o.b)();return r.a.createElement(Ee.a,{variant:"dark",className:"fixed-top bg-dark flex-md-nowrap p-0 shadow"},r.a.createElement(fe.a.Link,{as:ne.b,to:"/dashboard",className:"navbar-brand col-sm-3 col-md-2 mr-0"},"Dashboard"),r.a.createElement(fe.a,{className:"px-3"},r.a.createElement(fe.a.Item,{className:"text-nowrap"},r.a.createElement(fe.a.Link,{as:ne.b,to:"/",onClick:function(){return e(z())}},"Sign out"))))}function be(e){var t=e.view,a=e.setView;return r.a.createElement(r.a.Fragment,null,"homepage"!==t&&r.a.createElement(fe.a,{className:"col-md-2 d-none d-md-block bg-light sidebar"},r.a.createElement("div",{className:"sidebar-sticky"},r.a.createElement(fe.a,{className:"flex-column",activeKey:t,onSelect:function(e){a(e)}},r.a.createElement(fe.a.Item,null,r.a.createElement(fe.a.Link,{eventKey:"homepage"},"Homepage")),r.a.createElement(fe.a.Item,null,r.a.createElement(fe.a.Link,{eventKey:"dashboard"},"Dashboard")),r.a.createElement(fe.a.Item,null,r.a.createElement(fe.a.Link,{eventKey:"profile"},"Profile")),r.a.createElement(fe.a.Item,null,r.a.createElement(fe.a.Link,{eventKey:"add-content"},"Add Content")),r.a.createElement(fe.a.Item,null,r.a.createElement(fe.a.Link,{eventKey:"add-profile"},"Add Profile")),r.a.createElement(fe.a.Item,null,r.a.createElement(fe.a.Link,{as:ne.b,to:"/share",eventKey:"share"},"Share View"))))))}var he=a(59),ve=a(57),je=a(48),Oe=a(49);function ge(e){var t=e.tags;return r.a.createElement(r.a.Fragment,null,"tags\xa0\xa0\xa0\u203a",t.map((function(e){return r.a.createElement(r.a.Fragment,null,"\xa0\xa0\xa0",r.a.createElement(me.a,{variant:"link",className:"contentitem-tag",key:e,onClick:function(){return function(e){return console.log("'".concat(e,"' tag clicked."))}(e)}},e))})))}function ye(e){var t=e.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"contentitem-visibility-dot",onMouseOver:function(){return console.log("'".concat(t,"' visibility mouse over"))}}))}var ke=a(89),we=a.n(ke),xe=(a(135),a(14));function Ce(e){var t=e.content,a=e.show,c=e.closeHandler,l=Object(n.useState)(t),u=Object(ue.a)(l,2),i=u[0],m=u[1],s=Object(n.useState)(!t.content||t.content.includes("res.cloudinary.com")?"":t.content),d=Object(ue.a)(s,2),f=d[0],p=d[1],b=Object(n.useState)(),h=Object(ue.a)(b,2),v=h[0],j=h[1],O=Object(n.useState)(!1),g=Object(ue.a)(O,2),y=g[0],k=g[1],w=Object(o.b)(),x=function(e){return m(Object(V.a)(Object(V.a)({},i),{},Object(E.a)({},e.target.id,e.target.value)))};return r.a.createElement(xe.a,{size:"lg",show:a,onHide:c},r.a.createElement(xe.a.Header,null,r.a.createElement(xe.a.Title,null,"Edit Content")),r.a.createElement(xe.a.Body,null,r.a.createElement(ie.a,null,r.a.createElement(ie.a.Group,{controlId:"title"},r.a.createElement(ie.a.Label,null,"Title"),r.a.createElement(ie.a.Control,{type:"text",value:i.title,onChange:x})),r.a.createElement(ie.a.Group,{controlId:"username"},r.a.createElement(ie.a.Label,null,"Description"),r.a.createElement(ie.a.Control,{type:"text",value:i.description,onChange:x})),r.a.createElement(me.a,{variant:"primary",onClick:function(){k(!1),j("undefined")}}," Text "),r.a.createElement(me.a,{variant:"primary",onClick:function(){k(!0)}}," File "),y?r.a.createElement(ie.a.Group,{controlId:"file"},r.a.createElement(ie.a.Label,null,"File"),r.a.createElement("br",null),r.a.createElement("input",{type:"file",name:"file",onChange:function(e){return j(e.target.files[0])}})):r.a.createElement(ie.a.Group,{controlId:"content"},r.a.createElement(ie.a.Label,null,"Content"),r.a.createElement(we.a,{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link"],["clean"]]},theme:"snow",value:f,onChange:function(e){return p(e)}})))),r.a.createElement(xe.a.Footer,null,r.a.createElement(me.a,{variant:"primary",onClick:function(e){j("undefined"),c()}},"Cancel"),r.a.createElement(me.a,{variant:"warning",onClick:function(){console.log(i);var e=new FormData;for(var t in i)e.set(t,i[t]);y&&v?(e.set("file",v),e.delete("content")):y||e.set("content",f),w(P(e)).then((function(){return w(H())})).then((function(){return c()}))}},"Save changes")))}function Ne(e){var t=e.content,a=e.show,n=e.closeHandler,c=Object(o.b)();return r.a.createElement(xe.a,{show:a,onHide:n},r.a.createElement(xe.a.Header,null,r.a.createElement(xe.a.Title,null,"Delete Content")),r.a.createElement(xe.a.Body,null,"Are you sure you want to delete ",r.a.createElement("b",null,t.title),"?"),r.a.createElement(xe.a.Footer,null,r.a.createElement(me.a,{variant:"primary",onClick:n},"No, cancel"),r.a.createElement(me.a,{variant:"danger",onClick:function(){c(T(t.id)).then((function(){return c(H())})).then((function(){return n()}))}},"Yes, delete")))}var Ie=a(136),Se=a(137);function Le(e){var t=e.content,a=Object(n.useState)(!1),c=Object(ue.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(!1),i=Object(ue.a)(u,2),m=i[0],s=i[1],d=function(){return console.log("".concat(t.id," clicked."))},E=t.id,f=t.title,p=t.description,b=t.tags,h=t.displayDate,v=b.length>0,j=!1;t.content&&Ie(t.content)&&Se(t.content.split("?")[0])&&(j=!0);var O=Intl.DateTimeFormat("en-AU",{day:"2-digit",month:"long",year:"numeric"}).format(Date.parse(h));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce,{content:t,show:l,closeHandler:function(){return o(!1)}}),r.a.createElement(Ne,{content:t,show:m,closeHandler:function(){return s(!1)}}),r.a.createElement(le.a,null,r.a.createElement(he.a,null,j?r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a.Img,{src:t.content,alt:f}),r.a.createElement(he.a.ImgOverlay,{className:"contentitem-header",onClick:d},r.a.createElement("div",{className:"contentitem-title-visibility"},r.a.createElement(ye,{id:E}),r.a.createElement("div",{className:"contentitem-title"},f)),r.a.createElement("div",{className:"contentitem-date"},O))):r.a.createElement(he.a.Header,{className:"contentitem-header",onClick:d},r.a.createElement("div",{className:"contentitem-title-visibility"},r.a.createElement(ye,{id:E}),r.a.createElement("div",{className:"contentitem-title"},f)),r.a.createElement("div",{className:"contentitem-date"},O)),r.a.createElement(he.a.Body,null,r.a.createElement("div",{className:"contentitem-container"},r.a.createElement("div",{className:"contentitem-tags"},v&&r.a.createElement(ge,{tags:b})),r.a.createElement(ve.a,{alignRight:!0},r.a.createElement(ve.a.Toggle,{as:je.a,icon:Oe.c,size:"lg"}),r.a.createElement(ve.a.Menu,{alignRight:!0},r.a.createElement(ve.a.Item,{onClick:function(){return o(!0)}},"Edit"),r.a.createElement(ve.a.Item,{onClick:function(){return s(!0)}},"Delete")))),r.a.createElement("h3",null,"Description"),r.a.createElement("p",{className:"card-text"},p)))))}function De(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.content})),a=Object(o.c)((function(e){return e.user}));return Object(n.useEffect)((function(){function t(){return(t=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(H());case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),r.a.createElement("div",{className:"flex-wrap pt-3 pb-2 mb-3"},r.a.createElement(le.a,null,r.a.createElement("h1",{className:"h2 ml-5 mt-5"},a.username,"'s Content")),t.map((function(e){return r.a.createElement(Le,{content:e,key:e.id})})))}function Fe(e){var t=e.setView,a=Object(n.useState)({}),c=Object(ue.a)(a,2),l=c[0],u=c[1],i=Object(n.useState)(""),m=Object(ue.a)(i,2),s=m[0],d=m[1],f=Object(n.useState)(),p=Object(ue.a)(f,2),b=p[0],h=p[1],v=Object(n.useState)(!1),j=Object(ue.a)(v,2),O=j[0],g=j[1],y=Object(o.b)(),k=function(e){return u(Object(V.a)(Object(V.a)({},l),{},Object(E.a)({},e.target.id,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"h2 ml-5 mt-5"},"Add Content"),r.a.createElement(ie.a,{className:"mt-5",onSubmit:function(e){e.preventDefault();var a=new FormData;for(var n in l)a.set(n,l[n]);O&&b?a.set("file",b):O||a.set("content",s),y(G(a)).then((function(){return y(H())})).then((function(){return t("dashboard")}))}},r.a.createElement(ie.a.Group,{controlId:"title"},r.a.createElement(ie.a.Label,null,"Title"),r.a.createElement(ie.a.Control,{type:"text",value:l.title,onChange:k})),r.a.createElement(ie.a.Group,{controlId:"description"},r.a.createElement(ie.a.Label,null,"Description"),r.a.createElement(ie.a.Control,{as:"textarea",rows:"5",value:l.description,onChange:k})),r.a.createElement(me.a,{variant:"primary",onClick:function(){return g(!1)}}," Text "),r.a.createElement(me.a,{variant:"primary",onClick:function(){return g(!0)}}," File "),O?r.a.createElement(ie.a.Group,{controlId:"file"},r.a.createElement(ie.a.Label,null,"File"),r.a.createElement("br",null),r.a.createElement("input",{type:"file",name:"file",onChange:function(e){return h(e.target.files[0])}})):r.a.createElement(ie.a.Group,{controlId:"content"},r.a.createElement(ie.a.Label,null,"Content"),r.a.createElement(we.a,{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link"],["clean"]]},theme:"snow",value:s,onChange:function(e){return d(e)}})),r.a.createElement(me.a,{type:"submit",variant:"info"},"Create")))}var Ae=a(47),He=a(58),Ge=a(50);function Pe(e){var t=e.profile,a=e.show,c=e.closeHandler,l=Object(n.useState)(t),u=Object(ue.a)(l,2),i=u[0],m=u[1],s=Object(n.useState)(t.education),d=Object(ue.a)(s,2),E=d[0],p=d[1],b=Object(n.useState)(t.experience),h=Object(ue.a)(b,2),v=h[0],j=h[1],O=Object(n.useState)(t.projects),g=Object(ue.a)(O,2),y=g[0],k=g[1],w=Object(o.b)();console.log(y),console.log(t);var x=function(e){var t=Object(f.a)(E);t[e.target.id]=e.target.value,p(t),m(Object(V.a)(Object(V.a)({},i),{},{education:t}))},C=function(e){var t=Object(f.a)(v);t[e.target.id]=e.target.value,j(t),m(Object(V.a)(Object(V.a)({},i),{},{experience:t}))},N=function(e){var t=Object(f.a)(y);t[e.target.id]=e.target.value,k(t),m(Object(V.a)(Object(V.a)({},y),{},{projects:t}))};return r.a.createElement(xe.a,{size:"lg",show:a,onHide:c},r.a.createElement(xe.a.Header,null,r.a.createElement(xe.a.Title,null,"Edit Profile")),r.a.createElement(xe.a.Body,null,r.a.createElement(ie.a,null,r.a.createElement(ie.a.Group,{controlId:"education"},r.a.createElement(ie.a.Label,null,"Education")),E.map((function(e,t){return r.a.createElement(ie.a.Group,{controlId:t},r.a.createElement(Ge.a,{className:"mb-3"},r.a.createElement(ie.a.Control,{as:"textarea",rows:"1",value:e,onChange:x}),r.a.createElement(Ge.a.Append,null,r.a.createElement(me.a,{variant:"outline-secondary",id:t,onClick:function(e){return function(e){var t=Object(f.a)(E);t.splice(e,1),p(t),m(Object(V.a)(Object(V.a)({},i),{},{education:t}))}(t)}},"Delete"))))})),r.a.createElement(me.a,{onClick:function(){var e=[].concat(Object(f.a)(E),[""]);p(e),m(Object(V.a)(Object(V.a)({},i),{},{education:e}))}},"Add Education"),r.a.createElement(ie.a.Group,{className:"mt-3",controlId:"experience"},r.a.createElement(ie.a.Label,null,"Experience")),v.map((function(e,t){return r.a.createElement(ie.a.Group,{controlId:t},r.a.createElement(Ge.a,{className:"mb-3"},r.a.createElement(ie.a.Control,{as:"textarea",rows:"1",value:e,onChange:C}),r.a.createElement(Ge.a.Append,null,r.a.createElement(me.a,{variant:"outline-secondary",id:t,onClick:function(e){return function(e){var t=Object(f.a)(v);t.splice(e,1),j(t),m(Object(V.a)(Object(V.a)({},i),{},{experience:t}))}(t)}},"Delete"))))})),r.a.createElement(me.a,{onClick:function(){var e=[].concat(Object(f.a)(v),[""]);j(e),m(Object(V.a)(Object(V.a)({},i),{},{experience:e}))}},"Add Experience"),r.a.createElement(ie.a.Group,{className:"mt-3",controlId:"projects"},r.a.createElement(ie.a.Label,null,"Projects")),y.map((function(e,t){return r.a.createElement(ie.a.Group,{controlId:t},r.a.createElement(Ge.a,{className:"mb-3"},r.a.createElement(ie.a.Control,{as:"textarea",rows:"1",value:"McWorking on it",onChange:N}),r.a.createElement(Ge.a.Append,null,r.a.createElement(me.a,{variant:"outline-secondary",id:t,onClick:function(e){return function(e){var t=Object(f.a)(y);t.splice(e,1),k(t),m(Object(V.a)(Object(V.a)({},i),{},{projects:t}))}(t)}},"Delete"))))})),r.a.createElement(me.a,{onClick:function(){var e=[].concat(Object(f.a)(y),[""]);console.log(e),k(e),m(Object(V.a)(Object(V.a)({},i),{},{projects:e}))}},"Add Project"))),r.a.createElement(xe.a.Footer,null,r.a.createElement(me.a,{variant:"primary",onClick:c},"Cancel"),r.a.createElement(me.a,{variant:"warning",onClick:function(){w(J(i)).then((function(){return w(q(i.id))})).then((function(){return c()}))}},"Save changes")))}function Te(e){var t=e.profile,a=e.show,n=e.closeHandler,c=Object(o.b)();return r.a.createElement(xe.a,{show:a,onHide:n},r.a.createElement(xe.a.Header,null,r.a.createElement(xe.a.Title,null,"Delete Profile")),r.a.createElement(xe.a.Body,null,"Are you sure you want to delete your profile ",r.a.createElement("b",null,t.email),"?"),r.a.createElement(xe.a.Footer,null,r.a.createElement(me.a,{variant:"primary",onClick:n},"No, cancel"),r.a.createElement(me.a,{variant:"danger",onClick:function(){c($(t.id)).then((function(){return c(q())})).then((function(){return n()}))}},"Yes, delete")))}function Ke(e){var t=e.profile,a=e.projects,c=Object(n.useState)(!1),l=Object(ue.a)(c,2),o=l[0],u=l[1],i=Object(n.useState)(!1),m=Object(ue.a)(i,2),s=m[0],d=m[1],E=t.logo,f=t.education,p=t.experience;return r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{variant:"link",className:"float-right",onClick:function(){return u(!0)}},"Edit"),r.a.createElement(me.a,{variant:"link",className:"float-right text-danger",onClick:function(){return d(!0)}},"Delete"),r.a.createElement(Pe,{profile:t,show:o,closeHandler:function(){return u(!1)}}),r.a.createElement(Te,{profile:t,show:s,closeHandler:function(){return d(!1)}}),r.a.createElement(ce.a,null,r.a.createElement(le.a,null,r.a.createElement(oe.a,{className:"mt-3 ml-5 mr-5"},r.a.createElement(Ae.a,{src:E,roundedCircle:!0,fluid:!0})))),r.a.createElement(le.a,null,r.a.createElement(He.a,{className:"mt-3 ml-5 mr-5"},r.a.createElement("h4",{className:"mt-3 mb-5"},"Education"),r.a.createElement("div",{className:"card-education"},f.map((function(e){return r.a.createElement(He.a.Item,{className:"flex-fill ml-4 mr-5",key:e},e)}))))),r.a.createElement(le.a,null,r.a.createElement(He.a,{className:"mt-3 ml-5 mr-5"},r.a.createElement("h4",{className:"mt-3 mb-5"},"Experience"),r.a.createElement("div",{className:"card-experience"},p.map((function(e){return r.a.createElement(He.a.Item,{className:"flex-fill ml-4 mr-5",key:e},e)}))))),r.a.createElement(le.a,null,r.a.createElement(He.a,{className:"mt-5 ml-5 mr-5"},r.a.createElement("h4",null,"Projects"),r.a.createElement("div",{className:"card-projects"},a.map((function(e){return r.a.createElement(Le,{content:e})}))))))}function Ve(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.user})),a=Object(o.c)((function(e){return e.profile})),c=Object(o.c)((function(e){return e.content}));return Object(n.useEffect)((function(){function a(){return(a=Object(v.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e(q(t.profile));case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()})),r.a.createElement("div",{className:"flex-wrap pt-3 pb-2 mb-3"},r.a.createElement(le.a,null,r.a.createElement("h1",{className:"h2 ml-5 mt-5"},"Your Profile")),r.a.createElement(Ke,{profile:a,projects:c}))}function Be(e){var t=e.setView,a=Object(n.useState)({}),c=Object(ue.a)(a,2),l=c[0],u=c[1],i=Object(o.b)(),m=function(e){return u(Object(V.a)(Object(V.a)({},l),{},Object(E.a)({},e.target.id,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"h2 ml-5 mt-5"},"Add Profile"),r.a.createElement(ie.a,{className:"mt-5",onSubmit:function(e){e.preventDefault(),i(Y(l)).then((function(){return i(q())})).then((function(){return t("dashboard")}))}},r.a.createElement(ie.a.Group,{controlId:"education"},r.a.createElement(ie.a.Label,null,"Education"),r.a.createElement(ie.a.Control,{type:"textarea",rows:"5",value:l.education,onChange:m})),r.a.createElement(ie.a.Group,{controlId:"experience"},r.a.createElement(ie.a.Label,null,"Experience"),r.a.createElement(ie.a.Control,{as:"textarea",rows:"5",value:l.experience,onChange:m})),r.a.createElement(ie.a.Group,{controlId:"projects"},r.a.createElement(ie.a.Label,null,"Projects"),r.a.createElement(ie.a.Control,{as:"textarea",rows:"5",value:l.projects,onChange:m})),r.a.createElement(me.a,{type:"submit",variant:"info"},"Create")))}function Re(e){var t=e.show,a=e.closeHandler,c=e.user,l=Object(o.c)((function(e){return e.user})),u=Object(n.useState)(c),i=Object(ue.a)(u,2),m=i[0],s=i[1],d=Object(o.b)(),f=function(e){return s(Object(V.a)(Object(V.a)({},m),{},Object(E.a)({},e.target.id,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a,{show:t,onHide:a},r.a.createElement(xe.a.Header,null,r.a.createElement(xe.a.Title,null,"Edit User Details")),r.a.createElement(xe.a.Body,null,r.a.createElement(Ae.a,{src:l.avatar,alt:"Hello Darkness",roundedCircle:!0,className:"rounded mx-auto d-block"}),r.a.createElement(ie.a,null,r.a.createElement(ie.a.Group,{controlId:"username"},r.a.createElement(ie.a.Label,null,"Username"),r.a.createElement(ie.a.Control,{as:"textarea",rows:"1",value:m.username,onChange:f})),r.a.createElement(ie.a.Group,{controlId:"firstName"},r.a.createElement(ie.a.Label,null,"First Name"),r.a.createElement(ie.a.Control,{as:"textarea",rows:"1",value:m.firstName,onChange:f})),r.a.createElement(ie.a.Group,{controlId:"lastName"},r.a.createElement(ie.a.Label,null,"Last Name"),r.a.createElement(ie.a.Control,{as:"textarea",rows:"1",value:m.lastName,onChange:f})))),r.a.createElement(xe.a.Footer,null,r.a.createElement(me.a,{variant:"link",onClick:function(){s(l),console.log(m),console.log(l)}},"Reset Changes"),r.a.createElement(me.a,{variant:"warning",onClick:function(){d(U(m)).then(a)}},"Save changes"),r.a.createElement(me.a,{variant:"link",onClick:a},"Cancel"))))}function Ue(e){var t=e.setView;e.setActive;return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex",justifyContent:"left",alignItems:"center"}},r.a.createElement(fe.a,{className:"flex-column",onSelect:function(e){t(e)}},r.a.createElement("h1",null," Homepage "),r.a.createElement("hr",null),r.a.createElement(fe.a.Item,null,r.a.createElement(fe.a.Link,{eventKey:"dashboard"},r.a.createElement(le.a,null," ",r.a.createElement("h4",{style:{textDecorationLine:"underline"}}," Dashboard ")," "),r.a.createElement(le.a,null," ",r.a.createElement("h6",null," View and edit the content in your portfolio ")," "))),r.a.createElement("hr",null),r.a.createElement(fe.a.Item,null,r.a.createElement(fe.a.Link,{eventKey:"profile"},r.a.createElement(le.a,null," ",r.a.createElement("h4",{style:{textDecorationLine:"underline"}}," Profile ")," "),r.a.createElement(le.a,null," ",r.a.createElement("h6",null," View and edit your profile ")," "))),r.a.createElement("hr",null),r.a.createElement(fe.a.Item,null,r.a.createElement(fe.a.Link,{eventKey:"add-content"},r.a.createElement(le.a,null," ",r.a.createElement("h4",{style:{textDecorationLine:"underline"}}," Add Content ")," "),r.a.createElement(le.a,null," ",r.a.createElement("h6",null," Create a new post for your portfolio ")," "))),r.a.createElement("hr",null),r.a.createElement(fe.a.Item,null,r.a.createElement(fe.a.Link,{eventKey:"add-profile"},r.a.createElement(le.a,null," ",r.a.createElement("h4",{style:{textDecorationLine:"underline"}}," Add Profile ")," "),r.a.createElement(le.a,null," ",r.a.createElement("h6",null," Create your profile ")," "))),r.a.createElement("hr",null),r.a.createElement(fe.a.Item,null,r.a.createElement(fe.a.Link,{as:ne.b,to:"/share",eventKey:"share"},r.a.createElement(le.a,null," ",r.a.createElement("h4",{style:{textDecorationLine:"underline"}}," Share View ")," "),r.a.createElement(le.a,null," ",r.a.createElement("h6",null," See your shared content ")," "))))))}function Me(){var e=Object(o.b)(),t=Object(n.useState)("homepage"),a=Object(ue.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!1),i=Object(ue.a)(u,2),m=i[0],s=i[1],d=Object(o.c)((function(e){return e.user}));Object(n.useEffect)((function(){function t(){return(t=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(q(d.profile));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}));var E=function(e){return l(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,null),r.a.createElement(ce.a,{fluid:!0},r.a.createElement(le.a,null,r.a.createElement(be,{view:c,setView:E}),r.a.createElement("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 px-4"},r.a.createElement(me.a,{variant:"link",className:"float-right",onClick:function(){return s(!0)}},"User Details"),"homepage"===c&&r.a.createElement(Ue,{view:c,setView:E}),"dashboard"===c&&r.a.createElement(De,null),"add-content"===c&&r.a.createElement(Fe,{setView:E}),"profile"===c&&r.a.createElement(Ve,null),"add-profile"===c&&r.a.createElement(Be,{setView:E}))),r.a.createElement(Re,{show:m,closeHandler:function(){return s(!1)},user:d})))}var _e=a(83),ze=(a(277),a(136)),We=a(137);function Ye(){var e=Object(o.c)((function(e){return e})),t=e.user,a=e.profile,c=e.content,l=Object(n.useState)(c.map((function(e){return Object(V.a)(Object(V.a)({},e),{},{expand:!1})}))),u=Object(ue.a)(l,2),i=u[0],m=u[1],s=function(e){return e?ze(e)?We(e.split("?")[0])?"image":"url":"text":null};return r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{as:ne.b,to:"/dashboard",variant:"link",className:"return"},"Back to dashboard"),r.a.createElement(ce.a,{className:"share"},r.a.createElement(le.a,null,r.a.createElement(oe.a,{xs:"auto"},r.a.createElement(Ae.a,{roundedCircle:!0,className:"logo",src:a.logo})),r.a.createElement(oe.a,null,r.a.createElement(le.a,{className:"name"},t.firstName," ",t.lastName),r.a.createElement(le.a,{className:"bio"},r.a.createElement(oe.a,null,r.a.createElement("h6",null,"Experience"),a.experience.map((function(e){return r.a.createElement("p",{className:"bio-item"},e)}))),r.a.createElement(oe.a,null,r.a.createElement("h6",null,"Education"),a.education.map((function(e){return r.a.createElement("p",{className:"bio-item"},e)})))),r.a.createElement(le.a,{className:"links"},r.a.createElement(me.a,{as:"a",href:a.resume,target:"_blank",variant:"link"},r.a.createElement(je.a,{icon:Oe.e})," Resume"),r.a.createElement(me.a,{as:"a",href:"mailto:".concat(t.email),variant:"link"},r.a.createElement(je.a,{icon:Oe.d})," ",t.email)))),r.a.createElement(le.a,null,i.map((function(e){return r.a.createElement(le.a,{key:e.id,className:"project"},r.a.createElement(le.a,null,r.a.createElement(oe.a,{xs:"auto",className:"date"},(t=e.displayDate,Intl.DateTimeFormat("en-AU",{day:"2-digit",month:"long",year:"numeric"}).format(Date.parse(t)))),r.a.createElement(oe.a,null,r.a.createElement(le.a,{className:"title"},e.title),r.a.createElement(le.a,{className:"description"},e.description),r.a.createElement(me.a,{variant:"link",onClick:function(){return t=e.id,m(i.map((function(e){return e.id===t?Object(V.a)(Object(V.a)({},e),{},{expand:!e.expand}):e})));var t}},e.expand&&r.a.createElement(r.a.Fragment,null,"Hide project ",r.a.createElement(je.a,{icon:Oe.b})),!e.expand&&r.a.createElement(r.a.Fragment,null,"Show project ",r.a.createElement(je.a,{icon:Oe.a}))))),r.a.createElement(_e.a,{in:e.expand},r.a.createElement(le.a,null,"text"===s(e.content)&&r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.content}}),"image"===s(e.content)&&r.a.createElement("a",{href:e.content,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Ae.a,{src:e.content})),"url"===s(e.content)&&r.a.createElement("a",{href:e.content,target:"_blank",rel:"noopener noreferrer"},"External link"))),r.a.createElement("hr",null));var t})))))}a(278);function qe(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.user.isAuthenticated}));return Object(n.useEffect)((function(){function a(){return(a=Object(v.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:console.log(t),console.log(O()),null!==O()&&e(R());case 3:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()})),r.a.createElement(ne.a,null,r.a.createElement(re.d,null,r.a.createElement(re.b,{exact:!0,path:"/"},r.a.createElement(de,null)),r.a.createElement(Je,{exact:!0,path:"/dashboard",test:t,fallback:"/"},r.a.createElement(Me,null)),r.a.createElement(re.b,{path:"/share"},r.a.createElement(Ye,null))))}var Je=function(e){var t=e._props,a=e.children,n=e.test,c=e.fallback;return r.a.createElement(re.b,Object.assign({},t,{render:function(){return n?a:r.a.createElement(re.a,{to:{pathname:c}})}}))};a(279);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:ae},r.a.createElement(qe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[141,1,2]]]);
//# sourceMappingURL=main.0afaf037.chunk.js.map