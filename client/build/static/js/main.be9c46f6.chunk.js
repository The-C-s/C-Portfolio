(this["webpackJsonpc-portfolio-client"]=this["webpackJsonpc-portfolio-client"]||[]).push([[0],{138:function(e,t,a){e.exports=a(278)},276:function(e,t,a){},277:function(e,t,a){},278:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),l=a.n(c),o=a(9);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=a(19),i=a(62),s=a(134),m=a(21),d=a.n(m),f=a(24),p=a(31),b=a(20),E=a(8),j=a.n(E),v=a(15);d.a.defaults.baseURL="https://cportfolio.herokuapp.com";var h={authenticateUser:function(){var e=Object(v.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/users/authenticate",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUser:function(){var e=Object(v.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/users/current",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllContent:function(){var e=Object(v.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/content/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),createContent:function(){var e=Object(v.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/content/create",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),editContent:function(){var e=Object(v.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("".concat("/content/").concat(t.id),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteContent:function(){var e=Object(v.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("".concat("/content/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createProfile:function(){var e=Object(v.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/profile/create",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),editProfile:function(){var e=Object(v.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("".concat("/profile/").concat(t.id),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteProfile:function(){var e=Object(v.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("".concat("/profile/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getProfile:function(){var e=Object(v.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat("/profile/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addLogo:function(){var e=Object(v.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/profile/addLogo");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addResume:function(){var e=Object(v.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/profile/addResume");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),editUser:function(){var e=Object(v.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,d.a.put("/users/update",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=Object(b.a)("content/getContent",h.getAllContent),g=(Object(b.a)("content/getSingleContent",h.getSingleContent),Object(b.a)("content/createContent",h.createContent)),w=Object(b.a)("content/editContent",h.editContent),k=Object(b.a)("content/deleteContent",h.deleteContent),C=Object(b.b)({name:"content",initialState:[],reducers:{},extraReducers:Object(f.a)({"user/logout":function(){return[]}},O.fulfilled,(function(e,t){return Object(p.a)(t.payload.data)}))}).reducer,x=a(7),y=Object(b.a)("user/authenticate",h.authenticateUser),N=Object(b.a)("users/update",function(){var e=Object(v.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.editUser(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I=Object(b.b)({name:"user",initialState:{isAuthenticated:null!==localStorage.getItem("token"),authType:"Bearer"},reducers:{setUser:function(e,t){return Object(x.a)(Object(x.a)(Object(x.a)({},e),t.payload.data),{},{token:localStorage.getItem("token"),isAuthenticated:!0})},logout:function(){return localStorage.removeItem("token"),{isAuthenticated:!1}}},extraReducers:Object(f.a)({},y.fulfilled,(function(e,t){return localStorage.setItem("token",t.payload.data.token),Object(x.a)(Object(x.a)(Object(x.a)({},e),t.payload.data),{},{isAuthenticated:!0})}))}),S=I.actions,L=S.logout,A=S.setUser,P=I.reducer,D=Object(b.a)("profile/createProfile",h.createProfile),H=Object(b.a)("profile/getProfile",h.getProfile),G=Object(b.a)("profile/updateProfile",h.editProfile),F=Object(b.a)("profile/deleteProfile",h.deleteProfile),U=Object(b.b)({name:"profile",initialState:{education:[],experience:[],projects:[]},reducers:{},extraReducers:Object(f.a)({"user/logout":function(){return{}}},H.fulfilled,(function(e,t){return Object(x.a)({},t.payload.data)}))}).reducer,T=Object(u.combineReducers)({profile:U,content:C,user:P}),B=[i.a,function(){return function(e){return function(t){return d.a.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("token")),e(t)}}}],R=[u.applyMiddleware.apply(void 0,B)],V=s.composeWithDevTools.apply(void 0,R),K=Object(u.createStore)(T,{},V),M=a(44),z=a(16),W=a(13),Y=a(6),q=a(10);function J(){var e=Object(o.c)((function(e){return e.user.isAuthenticated})),t=Object(n.useState)({email:"",password:""}),a=Object(W.a)(t,2),c=a[0],l=a[1],u=Object(o.b)(),i=Object(z.f)();Object(n.useEffect)((function(){e&&i.push("/dashboard")}));var s=function(e){return l(Object(x.a)(Object(x.a)({},c),{},Object(f.a)({},e.target.id,e.target.value)))};return r.a.createElement("div",{className:"form-box"},r.a.createElement(Y.a,{className:"login-form",onSubmit:function(e){e.preventDefault(),u(y(c))}},r.a.createElement("h2",null,"Login"),r.a.createElement("hr",null),r.a.createElement(Y.a.Group,null,r.a.createElement(Y.a.Control,{type:"email",id:"email",placeholder:"Email Address",value:c.email,onChange:s,className:"form-control"})),r.a.createElement(Y.a.Group,null,r.a.createElement(Y.a.Control,{type:"password",id:"password",placeholder:"Password",value:c.password,onChange:s,className:"form-control"})),r.a.createElement(q.a,{type:"submit",variant:"primary"},"Login")))}var $=a(49),Q=a(23),X=a(45),Z=function(){return r.a.createElement($.a,{fluid:!0},r.a.createElement(Q.a,{className:"no-gutter"},r.a.createElement(X.a,{className:"bg-info d-flex justify-content-center"},r.a.createElement("div",{className:"splash-container"},r.a.createElement("h1",{className:"display-3 text-white"},"cPortfolio"))),r.a.createElement(X.a,null,r.a.createElement("div",{className:"splash-container"},r.a.createElement(J,null)))))},_=a(137),ee=a(22);function te(){var e=Object(o.b)();return r.a.createElement(_.a,{variant:"dark",className:"fixed-top bg-dark flex-md-nowrap p-0 shadow"},r.a.createElement(ee.a.Link,{as:M.b,to:"/dashboard",className:"navbar-brand col-sm-3 col-md-2 mr-0"},"Dashboard"),r.a.createElement(ee.a,{className:"px-3"},r.a.createElement(ee.a.Item,{className:"text-nowrap"},r.a.createElement(ee.a.Link,{as:M.b,to:"/",onClick:function(){return e(L())}},"Sign out"))))}function ae(e){var t=e.setView,a=Object(n.useState)("dashboard"),c=Object(W.a)(a,2),l=c[0],o=c[1];return r.a.createElement(ee.a,{className:"col-md-2 d-none d-md-block bg-light sidebar"},r.a.createElement("div",{className:"sidebar-sticky"},r.a.createElement(ee.a,{className:"flex-column",activeKey:l,onSelect:function(e){o(e),t(e)}},r.a.createElement(ee.a.Item,null,r.a.createElement(ee.a.Link,{eventKey:"dashboard"},"Dashboard")),r.a.createElement(ee.a.Item,null,r.a.createElement(ee.a.Link,{eventKey:"profile"},"Profile")),r.a.createElement(ee.a.Item,null,r.a.createElement(ee.a.Link,{eventKey:"add-content"},"Add Content")),r.a.createElement(ee.a.Item,null,r.a.createElement(ee.a.Link,{eventKey:"add-profile"},"Add Profile")))))}var ne=a(56),re=a(54),ce=a(135),le=a(136);function oe(e){var t=e.tags;return r.a.createElement(r.a.Fragment,null,"tags\xa0\xa0\xa0\u203a",t.map((function(e){return r.a.createElement(r.a.Fragment,null,"\xa0\xa0\xa0",r.a.createElement(q.a,{variant:"link",className:"contentitem-tag",key:e,onClick:function(){return function(e){return console.log("'".concat(e,"' tag clicked."))}(e)}},e))})))}function ue(e){var t=e.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"contentitem-visibility-dot",onMouseOver:function(){return console.log("'".concat(t,"' visibility mouse over"))}}))}var ie=a(85),se=a.n(ie),me=(a(132),a(11));function de(e){var t=e.content,a=e.show,c=e.closeHandler,l=Object(n.useState)(t),u=Object(W.a)(l,2),i=u[0],s=u[1],m=Object(o.b)();return r.a.createElement(me.a,{size:"lg",show:a,onHide:c},r.a.createElement(me.a.Header,null,r.a.createElement(me.a.Title,null,"Edit Content")),r.a.createElement(me.a.Body,null,r.a.createElement(Y.a,null,r.a.createElement(Y.a.Group,{controlId:"title"},r.a.createElement(Y.a.Label,null,"Title"),r.a.createElement(Y.a.Control,{type:"text",value:i.title,onChange:function(e){return s(Object(x.a)(Object(x.a)({},i),{},{title:e.target.value}))}})),r.a.createElement(Y.a.Group,{controlId:"username"},r.a.createElement(Y.a.Label,null,"Description"),r.a.createElement(Y.a.Control,{type:"text",value:i.description,onChange:function(e){return s(Object(x.a)(Object(x.a)({},i),{},{description:e.target.value}))}})),r.a.createElement(Y.a.Group,{controlId:"content"},r.a.createElement(Y.a.Label,null,"Content"),r.a.createElement(se.a,{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link"],["clean"]]},theme:"snow",value:i.content,onChange:function(e){return s(Object(x.a)(Object(x.a)({},i),{},{content:e}))}})))),r.a.createElement(me.a.Footer,null,r.a.createElement(q.a,{variant:"primary",onClick:c},"Cancel"),r.a.createElement(q.a,{variant:"warning",onClick:function(){m(w(i)).then((function(){return m(O())})).then((function(){return c()}))}},"Save changes")))}function fe(e){var t=e.content,a=e.show,n=e.closeHandler,c=Object(o.b)();return r.a.createElement(me.a,{show:a,onHide:n},r.a.createElement(me.a.Header,null,r.a.createElement(me.a.Title,null,"Delete Content")),r.a.createElement(me.a.Body,null,"Are you sure you want to delete ",r.a.createElement("b",null,t.title),"?"),r.a.createElement(me.a.Footer,null,r.a.createElement(q.a,{variant:"primary",onClick:n},"No, cancel"),r.a.createElement(q.a,{variant:"danger",onClick:function(){c(k(t.id)).then((function(){return c(O())})).then((function(){return n()}))}},"Yes, delete")))}var pe=a(271),be=a(272);function Ee(e){var t=e.content,a=Object(n.useState)(!1),c=Object(W.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(!1),i=Object(W.a)(u,2),s=i[0],m=i[1],d=function(){return console.log("".concat(t.id," clicked."))},f=t.id,p=t.title,b=t.description,E=t.tags,j=t.displayDate,v=E.length>0,h=!1;t.content&&pe(t.content)&&be(t.content.split("?")[0])&&(h=!0);var O=Intl.DateTimeFormat("en-AU",{day:"2-digit",month:"long",year:"numeric"}).format(Date.parse(j));return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{content:t,show:l,closeHandler:function(){return o(!1)}}),r.a.createElement(fe,{content:t,show:s,closeHandler:function(){return m(!1)}}),r.a.createElement(Q.a,null,r.a.createElement(ne.a,null,h?r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a.Img,{src:t.content,alt:p}),r.a.createElement(ne.a.ImgOverlay,{className:"contentitem-header",onClick:d},r.a.createElement("div",{className:"contentitem-title-visibility"},r.a.createElement(ue,{id:f}),r.a.createElement("div",{className:"contentitem-title"},p)),r.a.createElement("div",{className:"contentitem-date"},O))):r.a.createElement(ne.a.Header,{className:"contentitem-header",onClick:d},r.a.createElement("div",{className:"contentitem-title-visibility"},r.a.createElement(ue,{id:f}),r.a.createElement("div",{className:"contentitem-title"},p)),r.a.createElement("div",{className:"contentitem-date"},O)),r.a.createElement(ne.a.Body,null,r.a.createElement("div",{className:"contentitem-container"},r.a.createElement("div",{className:"contentitem-tags"},v&&r.a.createElement(oe,{tags:E})),r.a.createElement(re.a,{alignRight:!0},r.a.createElement(re.a.Toggle,{as:ce.a,icon:le.a,size:"lg"}),r.a.createElement(re.a.Menu,{alignRight:!0},r.a.createElement(re.a.Item,{onClick:function(){return o(!0)}},"Edit"),r.a.createElement(re.a.Item,{onClick:function(){return m(!0)}},"Delete")))),r.a.createElement("h3",null,"Description"),r.a.createElement("p",{className:"card-text"},b)))))}function je(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.content})),a=Object(o.c)((function(e){return e.user}));return Object(n.useEffect)((function(){function t(){return(t=Object(v.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(O());case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),r.a.createElement("div",{className:"flex-wrap pt-3 pb-2 mb-3"},r.a.createElement(Q.a,null,r.a.createElement("h1",{className:"h2 ml-5 mt-5"},a.username,"'s Content")),t.map((function(e){return r.a.createElement(Ee,{content:e,key:e.id})})))}function ve(e){var t=e.setView,a=Object(n.useState)({title:"",description:"",content:""}),c=Object(W.a)(a,2),l=c[0],u=c[1],i=Object(o.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"h2 ml-5 mt-5"},"Add Content"),r.a.createElement(Y.a,{className:"mt-5",onSubmit:function(e){e.preventDefault(),i(g(l)).then((function(){return i(O())})).then((function(){return t("dashboard")}))}},r.a.createElement(Y.a.Group,{controlId:"title"},r.a.createElement(Y.a.Label,null,"Title"),r.a.createElement(Y.a.Control,{type:"text",value:l.title,onChange:function(e){return u(Object(x.a)(Object(x.a)({},l),{},{title:e.target.value}))}})),r.a.createElement(Y.a.Group,{controlId:"description"},r.a.createElement(Y.a.Label,null,"Description"),r.a.createElement(Y.a.Control,{type:"text",value:l.description,onChange:function(e){return u(Object(x.a)(Object(x.a)({},l),{},{description:e.target.value}))}})),r.a.createElement(Y.a.Group,{controlId:"content"},r.a.createElement(Y.a.Label,null,"Content"),r.a.createElement(se.a,{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link"],["clean"]]},theme:"snow",value:l.content,onChange:function(e){return u(Object(x.a)(Object(x.a)({},l),{},{content:e}))}})),r.a.createElement(q.a,{type:"submit",variant:"info"},"Create")))}var he=a(88),Oe=a(55),ge=a(46);function we(e){var t=e.profile,a=e.show,c=e.closeHandler,l=Object(n.useState)(t),u=Object(W.a)(l,2),i=u[0],s=u[1],m=Object(n.useState)(t.education),d=Object(W.a)(m,2),f=d[0],b=d[1],E=Object(n.useState)(t.experience),j=Object(W.a)(E,2),v=j[0],h=j[1],O=Object(n.useState)(t.projects),g=Object(W.a)(O,2),w=g[0],k=g[1],C=Object(o.b)();console.log(w),console.log(t);var y=function(e){var t=Object(p.a)(f);t[e.target.id]=e.target.value,b(t),s(Object(x.a)(Object(x.a)({},i),{},{education:t}))},N=function(e){var t=Object(p.a)(v);t[e.target.id]=e.target.value,h(t),s(Object(x.a)(Object(x.a)({},i),{},{experience:t}))},I=function(e){var t=Object(p.a)(w);t[e.target.id]=e.target.value,k(t),s(Object(x.a)(Object(x.a)({},w),{},{projects:t}))};return r.a.createElement(me.a,{size:"lg",show:a,onHide:c},r.a.createElement(me.a.Header,null,r.a.createElement(me.a.Title,null,"Edit Profile")),r.a.createElement(me.a.Body,null,r.a.createElement(Y.a,null,r.a.createElement(Y.a.Group,{controlId:"education"},r.a.createElement(Y.a.Label,null,"Education")),f.map((function(e,t){return r.a.createElement(Y.a.Group,{controlId:t},r.a.createElement(ge.a,{className:"mb-3"},r.a.createElement(Y.a.Control,{as:"textarea",rows:"1",value:e,onChange:y}),r.a.createElement(ge.a.Append,null,r.a.createElement(q.a,{variant:"outline-secondary",id:t,onClick:function(e){return function(e){var t=Object(p.a)(f);t.splice(e,1),b(t),s(Object(x.a)(Object(x.a)({},i),{},{education:t}))}(t)}},"Delete"))))})),r.a.createElement(q.a,{onClick:function(){var e=[].concat(Object(p.a)(f),[""]);b(e),s(Object(x.a)(Object(x.a)({},i),{},{education:e}))}},"Add Education"),r.a.createElement(Y.a.Group,{className:"mt-3",controlId:"experience"},r.a.createElement(Y.a.Label,null,"Experience")),v.map((function(e,t){return r.a.createElement(Y.a.Group,{controlId:t},r.a.createElement(ge.a,{className:"mb-3"},r.a.createElement(Y.a.Control,{as:"textarea",rows:"1",value:e,onChange:N}),r.a.createElement(ge.a.Append,null,r.a.createElement(q.a,{variant:"outline-secondary",id:t,onClick:function(e){return function(e){var t=Object(p.a)(v);t.splice(e,1),h(t),s(Object(x.a)(Object(x.a)({},i),{},{experience:t}))}(t)}},"Delete"))))})),r.a.createElement(q.a,{onClick:function(){var e=[].concat(Object(p.a)(v),[""]);h(e),s(Object(x.a)(Object(x.a)({},i),{},{experience:e}))}},"Add Experience"),r.a.createElement(Y.a.Group,{className:"mt-3",controlId:"projects"},r.a.createElement(Y.a.Label,null,"Projects")),w.map((function(e,t){return r.a.createElement(Y.a.Group,{controlId:t},r.a.createElement(ge.a,{className:"mb-3"},r.a.createElement(Y.a.Control,{as:"textarea",rows:"1",value:"McWorking on it",onChange:I}),r.a.createElement(ge.a.Append,null,r.a.createElement(q.a,{variant:"outline-secondary",id:t,onClick:function(e){return function(e){var t=Object(p.a)(w);t.splice(e,1),k(t),s(Object(x.a)(Object(x.a)({},i),{},{projects:t}))}(t)}},"Delete"))))})),r.a.createElement(q.a,{onClick:function(){var e=[].concat(Object(p.a)(w),[""]);console.log(e),k(e),s(Object(x.a)(Object(x.a)({},i),{},{projects:e}))}},"Add Project"))),r.a.createElement(me.a.Footer,null,r.a.createElement(q.a,{variant:"primary",onClick:c},"Cancel"),r.a.createElement(q.a,{variant:"warning",onClick:function(){C(G(i)).then((function(){return C(H(i.id))})).then((function(){return c()}))}},"Save changes")))}function ke(e){var t=e.profile,a=e.show,n=e.closeHandler,c=Object(o.b)();return r.a.createElement(me.a,{show:a,onHide:n},r.a.createElement(me.a.Header,null,r.a.createElement(me.a.Title,null,"Delete Profile")),r.a.createElement(me.a.Body,null,"Are you sure you want to delete your profile ",r.a.createElement("b",null,t.email),"?"),r.a.createElement(me.a.Footer,null,r.a.createElement(q.a,{variant:"primary",onClick:n},"No, cancel"),r.a.createElement(q.a,{variant:"danger",onClick:function(){c(F(t.id)).then((function(){return c(H())})).then((function(){return n()}))}},"Yes, delete")))}function Ce(e){var t=e.profile,a=e.projects,c=Object(n.useState)(!1),l=Object(W.a)(c,2),o=l[0],u=l[1],i=Object(n.useState)(!1),s=Object(W.a)(i,2),m=s[0],d=s[1],f=t.logo,p=t.education,b=t.experience;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{variant:"link",className:"float-right",onClick:function(){return u(!0)}},"Edit"),r.a.createElement(q.a,{variant:"link",className:"float-right text-danger",onClick:function(){return d(!0)}},"Delete"),r.a.createElement(we,{profile:t,show:o,closeHandler:function(){return u(!1)}}),r.a.createElement(ke,{profile:t,show:m,closeHandler:function(){return d(!1)}}),r.a.createElement($.a,null,r.a.createElement(Q.a,null,r.a.createElement(X.a,{xs:3,md:3},r.a.createElement(he.a,{src:f,roundedCircle:!0,fluid:!0})))),r.a.createElement(Q.a,null,r.a.createElement(Oe.a,{className:"mt-3 ml-5 mr-5"},r.a.createElement("h4",{className:"mt-3 mb-5"},"Education"),r.a.createElement("div",{className:"card-education"},p.map((function(e){return r.a.createElement(Oe.a.Item,{className:"flex-fill ml-4 mr-5",key:e},e)}))))),r.a.createElement(Q.a,null,r.a.createElement(Oe.a,{className:"mt-3 ml-5 mr-5"},r.a.createElement("h4",{className:"mt-3 mb-5"},"Experience"),r.a.createElement("div",{className:"card-experience"},b.map((function(e){return r.a.createElement(Oe.a.Item,{className:"flex-fill ml-4 mr-5",key:e},e)}))))),r.a.createElement(Q.a,null,r.a.createElement(Oe.a,{className:"mt-5 ml-5 mr-5"},r.a.createElement("h4",null,"Projects"),r.a.createElement("div",{className:"card-projects"},a.map((function(e){return r.a.createElement(Ee,{content:e})}))))))}function xe(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.user})),a=Object(o.c)((function(e){return e.profile})),c=Object(o.c)((function(e){return e.content}));return Object(n.useEffect)((function(){function a(){return(a=Object(v.a)(j.a.mark((function a(){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e(H(t.profile));case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()})),r.a.createElement("div",{className:"flex-wrap pt-3 pb-2 mb-3"},r.a.createElement(Q.a,null,r.a.createElement("h1",{className:"h2 ml-5 mt-5"},"Your Profile")),r.a.createElement(Ce,{profile:a,projects:c}))}function ye(e){var t=e.setView,a=Object(n.useState)({}),c=Object(W.a)(a,2),l=c[0],u=c[1],i=Object(o.b)(),s=function(e){return u(Object(x.a)(Object(x.a)({},l),{},Object(f.a)({},e.target.id,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"h2 ml-5 mt-5"},"Add Profile"),r.a.createElement(Y.a,{className:"mt-5",onSubmit:function(e){e.preventDefault(),i(D(l)).then((function(){return i(H())})).then((function(){return t("dashboard")}))}},r.a.createElement(Y.a.Group,{controlId:"education"},r.a.createElement(Y.a.Label,null,"Education"),r.a.createElement(Y.a.Control,{type:"textarea",rows:"5",value:l.education,onChange:s})),r.a.createElement(Y.a.Group,{controlId:"experience"},r.a.createElement(Y.a.Label,null,"Experience"),r.a.createElement(Y.a.Control,{as:"textarea",rows:"5",value:l.experience,onChange:s})),r.a.createElement(Y.a.Group,{controlId:"projects"},r.a.createElement(Y.a.Label,null,"Projects"),r.a.createElement(Y.a.Control,{as:"textarea",rows:"5",value:l.projects,onChange:s})),r.a.createElement(q.a,{type:"submit",variant:"info"},"Create")))}function Ne(e){var t=e.show,a=e.closeHandler,c=e.user,l=Object(o.c)((function(e){return e.user})),u=Object(n.useState)(c),i=Object(W.a)(u,2),s=i[0],m=i[1],d=Object(o.b)(),p=function(e){return m(Object(x.a)(Object(x.a)({},s),{},Object(f.a)({},e.target.id,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{show:t,onHide:a},r.a.createElement(me.a.Header,null,r.a.createElement(me.a.Title,null,"Edit User Details")),r.a.createElement(me.a.Body,null,r.a.createElement(he.a,{src:l.avatar,alt:"Hello Darkness",roundedCircle:!0,className:"rounded mx-auto d-block"}),r.a.createElement(Y.a,null,r.a.createElement(Y.a.Group,{controlId:"username"},r.a.createElement(Y.a.Label,null,"Username"),r.a.createElement(Y.a.Control,{as:"textarea",rows:"1",value:s.username,onChange:p})),r.a.createElement(Y.a.Group,{controlId:"firstName"},r.a.createElement(Y.a.Label,null,"First Name"),r.a.createElement(Y.a.Control,{as:"textarea",rows:"1",value:s.firstName,onChange:p})),r.a.createElement(Y.a.Group,{controlId:"lastName"},r.a.createElement(Y.a.Label,null,"Last Name"),r.a.createElement(Y.a.Control,{as:"textarea",rows:"1",value:s.lastName,onChange:p})))),r.a.createElement(me.a.Footer,null,r.a.createElement(q.a,{variant:"link",onClick:function(){m(l),console.log(s),console.log(l)}},"Reset Changes"),r.a.createElement(q.a,{variant:"warning",onClick:function(){d(N(s)).then(a)}},"Save changes"),r.a.createElement(q.a,{variant:"link",onClick:a},"Cancel"))))}function Ie(){var e=Object(o.b)(),t=Object(z.f)(),a=Object(n.useState)("dashboard"),c=Object(W.a)(a,2),l=c[0],u=c[1],i=Object(o.c)((function(e){return e.user})),s=Object(o.c)((function(e){return e.user.isAuthenticated})),m=Object(n.useState)(!1),d=Object(W.a)(m,2),f=d[0],p=d[1];Object(n.useEffect)((function(){s||t.push("/")})),Object(n.useEffect)((function(){function t(){return(t=Object(v.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(H(i.profile));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}));var b=function(e){return u(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(te,null),r.a.createElement($.a,{fluid:!0},r.a.createElement(Q.a,null,r.a.createElement(ae,{setView:b}),r.a.createElement("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 px-4"},r.a.createElement(q.a,{variant:"link",className:"float-right",onClick:function(){return p(!0)}},"User Details"),"dashboard"===l&&r.a.createElement(je,null),"add-content"===l&&r.a.createElement(ve,{setView:b}),"profile"===l&&r.a.createElement(xe,null),"add-profile"===l&&r.a.createElement(ye,{setView:b}))),r.a.createElement(Ne,{show:f,closeHandler:function(){return p(!1)},user:i})))}a(276);function Se(){var e=Object(o.b)();return Object(n.useEffect)((function(){localStorage.getItem("token")&&h.getUser().then((function(t){return e(A(t))}))})),r.a.createElement(M.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(z.c,null,r.a.createElement(z.a,{exact:!0,path:"/",component:Z}),r.a.createElement(z.a,{exact:!0,path:"/dashboard",component:Ie}))))}a(277);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:K},r.a.createElement(Se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[138,1,2]]]);
//# sourceMappingURL=main.be9c46f6.chunk.js.map