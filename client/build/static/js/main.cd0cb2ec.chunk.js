(this["webpackJsonpc-portfolio-client"]=this["webpackJsonpc-portfolio-client"]||[]).push([[0],{254:function(e,t,a){e.exports=a(427)},426:function(e,t,a){},427:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),l=a.n(c),o=a(10);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(32),s=a(91),u=a(244),m=a(25),d=a.n(m),p=a(19),f=a(5),E=a(16),b=Object(E.b)({name:"app",initialState:{errors:{},loading:{}},reduers:{},extraReducers:{"user/login/pending":function(e){return g(e,"login")},"user/login/fulfilled":function(e){h(e,"login")},"user/login/rejected":function(e,t){return v(e,"login",t.error)},"user/authenticate/pending":function(e){return g(e,"login")},"user/authenticate/fulfilled":function(e){h(e,"login")},"user/authenticate/rejected":function(e,t){return v(e,"login",t.error)},"user/update/pending":function(e){return g(e,"update")},"user/update/fulfilled":function(e){h(e,"update")},"user/update/rejected":function(e,t){return v(e,"update",t.error)},"user/register/pending":function(e){return g(e,"register")},"user/register/fulfilled":function(e){h(e,"register")},"user/register/rejected":function(e,t){return v(e,"register",t.error)},"profile/createProfile/pending":function(e){return g(e,"createProfile")},"profile/createProfile/fulfilled":function(e){h(e,"createProfile")},"profile/createProfile/rejected":function(e,t){return v(e,"createProfile",t.error)},"content/getContent/pending":function(e){return g(e,"getContent")},"content/getContent/fulfilled":function(e){h(e,"getContent")},"content/getContent/rejected":function(e,t){return v(e,"getContent",t.error)},"content/createContent/pending":function(e){return g(e,"createContent")},"content/createContent/fulfilled":function(e){h(e,"createContent")},"content/createContent/rejected":function(e,t){return v(e,"createContent",t.error)},"content/editContent/pending":function(e){return g(e,"editContent")},"content/editContent/fulfilled":function(e){h(e,"editContent")},"content/editContent/rejected":function(e,t){return v(e,"editContent",t.error)},"content/deleteContent/pending":function(e){return g(e,"deleteContent")},"content/deleteContent/fulfilled":function(e){h(e,"deleteContent")},"content/deleteContent/rejected":function(e,t){return v(e,"deleteContent",t.error)},"share/getSharepage/pending":function(e){return g(e,"getSharepage")},"share/getSharepage/fulfilled":function(e){h(e,"getSharepage")},"share/getSharepage/rejected":function(e,t){v(e,"getSharepage",t.payload)},"share/addSharepage/pending":function(e){return g(e,"addSharepage")},"share/addSharepage/fulfilled":function(e){h(e,"addSharepage")},"share/addSharepage/rejected":function(e,t){v(e,"addSharepage",t.payload)}}}),g=function(e,t){return Object(f.a)(Object(f.a)({},e),{},{loading:Object(f.a)(Object(f.a)({},e.loading),{},Object(p.a)({},t,!0)),errors:Object(f.a)(Object(f.a)({},e.errors),{},Object(p.a)({},t,""))})},h=function(e,t){return delete e.loading[t]},v=function(e,t,a){return console.error("".concat(t,": ").concat(a.message)),Object(f.a)(Object(f.a)({},e),{},{loading:Object(f.a)(Object(f.a)({},e.loading),{},Object(p.a)({},t,!1)),errors:Object(f.a)(Object(f.a)({},e.errors),{},Object(p.a)({},t,a.message))})},j=b.reducer,O=a(22),N=a(13),C=a.n(N),k=a(18);d.a.defaults.baseURL="https://cportfolio.herokuapp.com";var y,w=function(){return localStorage.getItem("token")},x=function(e){return localStorage.setItem("token",e)},S=function(){return localStorage.removeItem("token")},F=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/users/authenticate",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/users/register",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(k.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/users/current");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(k.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/content/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/content/create",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(k.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.get("id")}catch(n){a=t.id}return e.next=3,d.a.put("".concat("/content/").concat(a),t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("".concat("/content/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/profile/create",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("".concat("/profile/").concat(t.id),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("".concat("/profile/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat("/profile/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/profile/addLogo",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/profile/addResume",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/users/update",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/users/avatar",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("/users/background",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat("/share/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.put("".concat("/share/").concat(t.id),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(k.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/share/create");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("".concat("/share/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=Object(E.a)("content/getContent",D),$=Object(E.a)("content/createContent",L),K=Object(E.a)("content/editContent",A),Q=Object(E.a)("content/deleteContent",H),Z=Object(E.b)({name:"content",initialState:[],reducers:{},extraReducers:Object(p.a)({"user/logout":function(){return[]}},X.fulfilled,(function(e,t){return Object(O.a)(t.payload.data)}))}).reducer,ee=Object(E.a)("user/login",F),te=Object(E.a)("user/authenticate",P),ae=Object(E.a)("user/update",W),ne=Object(E.a)("user/register",I),re=Object(E.a)("user/avatar",V),ce=Object(E.a)("user/background",M),le=Object(E.b)({name:"user",initialState:{isAuthenticated:null!==w()},reducers:{setUser:function(e,t){return Object(f.a)(Object(f.a)(Object(f.a)({},e),t.payload.data),{},{token:w(),isAuthenticated:!0})},logout:function(){return S(),{isAuthenticated:!1}}},extraReducers:(y={},Object(p.a)(y,ee.fulfilled,(function(e,t){return x(t.payload.data.token),Object(f.a)(Object(f.a)(Object(f.a)({},e),t.payload.data),{},{isAuthenticated:!0})})),Object(p.a)(y,te.fulfilled,(function(e,t){return Object(f.a)(Object(f.a)(Object(f.a)({},e),t.payload.data),{},{isAuthenticated:!0})})),Object(p.a)(y,te.rejected,(function(){return S(),{isAuthenticated:!1}})),y)}),oe=le.actions,ie=oe.logout,se=(oe.setUser,le.reducer),ue=Object(E.a)("profile/createProfile",G),me=Object(E.a)("profile/getProfile",z),de=Object(E.a)("profile/updateProfile",R),pe=Object(E.a)("profile/deleteProfile",T),fe=Object(E.a)("profile/addLogo",B),Ee=Object(E.a)("profile/addResume",U),be=Object(E.b)({name:"profile",initialState:{isLoaded:!1,education:[],experience:[],projects:[]},reducers:{},extraReducers:Object(p.a)({"user/logout":function(){return{}}},me.fulfilled,(function(e,t){return Object(f.a)(Object(f.a)(Object(f.a)({},e),t.payload.data),{},{isLoaded:!0})}))}).reducer,ge=Object(E.b)({name:"search",initialState:{active:!1},reducers:{activeSearch:function(e,t){return{active:!0,query:t.payload.query,content:he(t.payload.query,t.payload.content)}},stopSearch:function(){return{active:!1}}},extraReducers:{"user/logout":function(){return{active:!1}}}}),he=function(e,t){e=e.toLowerCase();var a=new Set;return t.forEach((function(t){t.title.toLowerCase().includes(e)&&a.add(t),t.tags.forEach((function(n){n.toLowerCase().includes(e)&&a.add(t)}))})),Object(O.a)(a)},ve=ge.actions,je=ve.activeSearch,Oe=ve.stopSearch,Ne=ge.reducer,Ce=Object(E.a)("share/getSharepage",q),ke=Object(E.a)("share/editSharepage",Y),ye=Object(E.a)("share/addSharepage",_),we=Object(E.a)("share/deleteSharepage",J),xe=Object(E.b)({name:"share",initialState:{content:[],education:[],experience:[]},reducers:{},extraReducers:Object(p.a)({"user/logout":function(){return{}}},Ce.fulfilled,(function(e,t){return Object(f.a)(Object(f.a)({},e),t.payload.data)}))}).reducer,Se=Object(i.combineReducers)({app:j,profile:be,content:Z,user:se,search:Ne,share:xe}),Fe=[s.a,function(){return function(e){return function(t){return d.a.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("token")),e(t)}}}],Ie=[i.applyMiddleware.apply(void 0,Fe)],Pe=u.composeWithDevTools.apply(void 0,Ie),De=Object(i.createStore)(Se,{},Pe),Le=a(38),Ae=a(28),He=a(36),Ge=a(15),Re=a(29);function Te(){var e=Zt.filter((function(e){return null!==e.landing}));return r.a.createElement(He.a,{fluid:!0},r.a.createElement(Ge.a,{className:"no-gutter"},r.a.createElement(Re.a,{className:"bg-info d-flex justify-content-center"},r.a.createElement("div",{className:"splash-container"},r.a.createElement("h1",{className:"display-3 text-white"},r.a.createElement("img",{src:"/images/Portfolio.png",alt:""})))),r.a.createElement(Re.a,null,r.a.createElement("div",{className:"splash-container"},r.a.createElement(Ae.d,null,e.map((function(e,t){return r.a.createElement(Ae.b,{key:t,path:e.path,exact:e.exact,children:e.landing})})))))))}var ze=a(11),Be=a(31),Ue=a(9),We=a(12),Ve=a(72),Me=a.n(Ve);function qe(e){e.onLogin;var t=Object(o.b)(),a=Object(Ae.g)(),c=Object(o.c)((function(e){return e.app.loading.login})),l=Object(o.c)((function(e){return e.user})),i=Object(n.useState)({email:"",password:""}),s=Object(ze.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)({}),b=Object(ze.a)(d,2),g=b[0],h=b[1];Object(n.useEffect)((function(){l.isAuthenticated&&a.push("/homepage")}));var v=function(e){m(Object(f.a)(Object(f.a)({},u),{},Object(p.a)({},e.target.id,e.target.value))),"email"===e.target.id?h(Object(f.a)(Object(f.a)({},g),{},{invalidCredentials:!1,emptyEmail:!1})):"password"===e.target.id&&h(Object(f.a)(Object(f.a)({},g),{},{invalidCredentials:!1,emptyPassword:!1}))};return r.a.createElement("div",{className:"form-box"},r.a.createElement(Ue.a,{className:"login-form",onSubmit:function(e){e.preventDefault(),""!==u.email&&""!==u.password?t(ee(u)).then(E.c).then((function(){return a.push("/homepage")})).catch((function(){return h(Object(f.a)(Object(f.a)({},g),{},{invalidCredentials:!0}))})):h(Object(f.a)(Object(f.a)({},g),{},{emptyEmail:""===u.email,emptyPassword:""===u.password}))}},r.a.createElement("h2",null,"Login"),r.a.createElement("hr",null),g.invalidCredentials&&r.a.createElement("small",{className:"form-text text-danger"},"Email address or password does not match any existing accounts"),r.a.createElement(Ue.a.Group,null,r.a.createElement(Be.a,{type:"email",id:"email",placeholder:"Email address",value:u.email,onChange:v,className:"form-control",invalid:g.emptyEmail||g.invalidCredentials})),r.a.createElement(Ue.a.Group,null,r.a.createElement(Be.a,{type:"password",id:"password",placeholder:"Password",value:u.password,onChange:v,className:"form-control",invalid:g.emptyPassword||g.invalidCredentials})),r.a.createElement(We.a,{className:"btn-login",type:"submit",variant:"primary"},c?r.a.createElement(r.a.Fragment,null,"Logging in ",r.a.createElement("span",{className:"spinner-login"},r.a.createElement(Me.a,{size:20,color:"#ffffff",loading:c}))):"Log in"),r.a.createElement("div",{className:"text-center"}," Don't have an account? ",r.a.createElement(We.a,{as:Le.b,to:"/register",variant:"link"},"Register"))))}var Ye=a(249),_e=a.n(Ye);function Je(){var e=Object(o.b)(),t=Object(Ae.g)(),a=Object(o.c)((function(e){return e.app.loading.register})),c=Object(o.c)((function(e){return e.app.loading.createProfile})),l=Object(o.c)((function(e){return e.app.loading.login})),i=Object(n.useState)({username:"",email:"",password:"",confirmPass:""}),s=Object(ze.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)({}),b=Object(ze.a)(d,2),g=b[0],h=b[1],v=function(a){a.preventDefault(),g.isPassValid&&g.doesPassMatch&&u.username&&u.email&&u.password&&u.confirmPass?e(ne(u)).then(E.c).then((function(){return e(ee(u))})).then((function(){return e(ue({email:u.email}))})).then((function(){return t.push("/homepage")})).catch((function(){return h(Object(f.a)(Object(f.a)({},g),{},{userExists:!0,userComment:"This username or email address already exists"}))})):h(Object(f.a)(Object(f.a)({},g),{},{userError:!0,userComment:"Please fix the errors in the form before submitting",emptyUsername:!u.username,emptyEmail:!u.email}))},j=function(e){m(Object(f.a)(Object(f.a)({},u),{},Object(p.a)({},e.target.id,e.target.value))),h(Object(f.a)(Object(f.a)({},g),{},{userError:!1})),"confirmPass"===e.target.id?h(Object(f.a)(Object(f.a)({},g),{},{doesPassMatch:e.target.value===u.password,confirmClasses:e.target.value===u.password?"is-valid":"is-invalid"})):"username"===e.target.id?h(Object(f.a)(Object(f.a)({},g),{},{userExists:!1,emptyUsername:!1})):"email"===e.target.id&&h(Object(f.a)(Object(f.a)({},g),{},{userExists:!1,emptyEmail:!1}))};return r.a.createElement("div",{className:"register form-box"},r.a.createElement(Ue.a,{className:"signup-form",onSubmit:v},r.a.createElement("h2",null,"Register"),r.a.createElement("hr",null),r.a.createElement(Ue.a.Group,null,(g.userExists||g.userError)&&r.a.createElement("small",{className:"form-text text-danger"},g.userComment),r.a.createElement(Be.a,{type:"text",id:"username",placeholder:"Username",value:u.username,onChange:j,className:"form-control",invalid:g.userExists||g.emptyUsername})),r.a.createElement(Ue.a.Group,null,r.a.createElement(Be.a,{type:"email",id:"email",placeholder:"Email Address",value:u.email,onChange:j,className:"form-control",invalid:g.userExists||g.emptyEmail})),r.a.createElement(Ue.a.Group,{className:"register-password"},r.a.createElement(_e.a,{changeCallback:function(e){m(Object(f.a)(Object(f.a)({},u),{},{password:e.password}));h(Object(f.a)(Object(f.a)({},g),{},{isPassValid:e.isValid,passClasses:e.isValid?"is-valid":"is-invalid",passComment:{0:"Too short",1:"Weak",2:"Okay",3:"Good",4:"Strong"}[e.score]}))},inputProps:{id:"password",placeholder:"Password",value:u.password,onChange:j,className:"form-control ".concat(g.passClasses)}}),void 0!==g.isPassValid&&r.a.createElement("small",{className:"form-text".concat(g.isPassValid?"":" text-danger")},g.passComment)),r.a.createElement(Ue.a.Group,null,r.a.createElement(Be.a,{type:"password",id:"confirmPass",placeholder:"Confirm Password",value:u.confirmPass,onChange:j,className:"form-control ".concat(g.confirmClasses)}),void 0!==g.doesPassMatch&&!g.doesPassMatch&&r.a.createElement("small",{className:"form-text text-danger"},"Passwords don't match")),r.a.createElement(We.a,{className:"btn-submit",type:"submit",onClick:v,variant:"primary"},a||l||c?r.a.createElement(r.a.Fragment,null,c?"Creating your profile":l?"Logging you in":"Signing you up"," ",r.a.createElement("span",{className:"spinner-login"},r.a.createElement(Me.a,{size:20,color:"#ffffff",loading:a||l||c}))):"Sign up"),r.a.createElement("div",{className:"text-center"}," Already have an account?",r.a.createElement(We.a,{as:Le.b,to:"/",variant:"link"},"Login here"))))}var Xe=a(20),$e=a(21),Ke=a(33);function Qe(e){var t=e.icon;return r.a.createElement(Ke.a,{className:"navbutton",icon:t,size:"lg"})}function Ze(e){var t=e.image;return r.a.createElement("img",{className:"avatarbutton",src:t,alt:"Your profile"})}var et=a(17),tt=a(39),at=a(37);function nt(e){var t=e.show,a=e.closeHandler,c=e.user,l=Object(o.c)((function(e){return e.user})),i=Object(o.b)(),s=Object(n.useState)(c),u=Object(ze.a)(s,2),m=u[0],d=u[1],E=Object(n.useState)(),b=Object(ze.a)(E,2),g=b[0],h=b[1],v=Object(n.useState)(),j=Object(ze.a)(v,2),N=j[0],C=j[1],k=Object(n.useState)(c.emails?c.emails:[]),y=Object(ze.a)(k,2),w=y[0],x=y[1],S=function(e){return d(Object(f.a)(Object(f.a)({},m),{},Object(p.a)({},e.target.id,e.target.value)))},F=function(e){var t=Object(O.a)(w);t[e.target.id]=e.target.value,x(t),d(Object(f.a)(Object(f.a)({},m),{},{emails:t}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(et.a,{show:t,onHide:a},r.a.createElement(et.a.Header,null,r.a.createElement(et.a.Title,null,"Edit User Details")),r.a.createElement(et.a.Body,null,r.a.createElement(Ge.a,null,r.a.createElement(tt.a,{src:l.avatar,alt:"Hello Darkness",roundedCircle:!0,className:"rounded mx-auto d-block"})),r.a.createElement("br",null),r.a.createElement(Ue.a.Group,{controlId:"avatar"},r.a.createElement(Ue.a.Label,null,"Avatar"),r.a.createElement("br",null),r.a.createElement("input",{className:"mb-3",type:"file",name:"avatar",onChange:function(e){return h(e.target.files[0])}}),r.a.createElement("br",null)),r.a.createElement(Ge.a,null,r.a.createElement(We.a,{className:"ml-2",onClick:function(){var e=new FormData;e.set("file",g),e.set("username",""),i(re(e)).then((function(){return i(te())})).then((function(){return a()}))}},"Save Avatar"),r.a.createElement(We.a,{className:"ml-3",onClick:function(){return h("undefined")}},"Delete Avatar")),r.a.createElement("br",null),r.a.createElement(Ue.a.Group,{controlId:"background"},r.a.createElement(Ue.a.Label,null,"Background"),r.a.createElement("br",null),r.a.createElement("input",{className:"mb-3",type:"file",name:"background",onChange:function(e){return C(e.target.files[0])}}),r.a.createElement("br",null)),r.a.createElement(Ge.a,null,r.a.createElement(We.a,{className:"ml-2",onClick:function(){var e=new FormData;e.set("file",N),e.set("username",""),i(ce(e)).then((function(){return i(te())})).then((function(){return a()}))}},"Save Background"),r.a.createElement(We.a,{className:"ml-3",onClick:function(){return C("undefined")}},"Delete Background")),r.a.createElement("br",null),r.a.createElement(Ue.a,null,r.a.createElement(Ue.a.Group,{controlId:"username"},r.a.createElement(Ue.a.Label,null,"Username"),r.a.createElement(Ue.a.Control,{as:"textarea",rows:"1",value:m.username,onChange:S})),r.a.createElement(Ue.a.Group,{controlId:"firstName"},r.a.createElement(Ue.a.Label,null,"First Name"),r.a.createElement(Ue.a.Control,{as:"textarea",rows:"1",value:m.firstName,onChange:S})),r.a.createElement(Ue.a.Group,{controlId:"lastName"},r.a.createElement(Ue.a.Label,null,"Last Name"),r.a.createElement(Ue.a.Control,{as:"textarea",rows:"1",value:m.lastName,onChange:S})),r.a.createElement(Ue.a.Group,{controlId:"email"},r.a.createElement(Ue.a.Label,null,"Main Email"),r.a.createElement(Ue.a.Control,{as:"textarea",rows:"1",value:m.email,onChange:S})),r.a.createElement(Ue.a.Group,{className:"mt-3",controlId:"emails"},r.a.createElement(Ue.a.Label,null,"Additional Emails")),w.map((function(e,t){return r.a.createElement(Ue.a.Group,{controlId:t},r.a.createElement(at.a,{className:"mb-3"},r.a.createElement(Ue.a.Control,{as:"textarea",rows:"1",value:e,onChange:F}),r.a.createElement(at.a.Append,null,r.a.createElement(We.a,{variant:"outline-secondary",id:t,onClick:function(e){return function(e){var t=Object(O.a)(w);t.splice(e,1),x(t),d(Object(f.a)(Object(f.a)({},m),{},{emails:t}))}(t)}},"Delete"))))})),r.a.createElement(We.a,{onClick:function(){var e=[].concat(Object(O.a)(w),[""]);x(e),d(Object(f.a)(Object(f.a)({},m),{},{emails:e}))}},"Add Additional Email"))),r.a.createElement(et.a.Footer,null,r.a.createElement(We.a,{variant:"link",onClick:function(){d(l)}},"Reset Changes"),r.a.createElement(We.a,{variant:"warning",onClick:function(){i(ae(m)).then((function(){return i(te())})).then(a)}},"Save changes"),r.a.createElement(We.a,{variant:"link",onClick:a},"Cancel"))))}function rt(e){e.show;var t=Object(o.b)(),a=Object(o.c)((function(e){return e.content})),c=Object(n.useState)(!1),l=Object(ze.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(""),m=Object(ze.a)(u,2),d=m[0],p=m[1],f=Object(Ae.h)({path:"/dashboard/content",exact:!0});return r.a.createElement("div",{className:"search".concat(f?"":" hidden")},r.a.createElement(Be.c,{seamless:!0},r.a.createElement(Be.d,{type:"prepend"},r.a.createElement(Be.e,null,r.a.createElement(Ke.a,{className:"search-icon search-icon".concat(i?"-active":"-inactive"),icon:$e.o,onClick:function(){document.getElementsByClassName("search-input")[0].focus(),s(!0)}}))),r.a.createElement(Be.a,{className:"search-input search-input".concat(i?"-active":"-inactive"),type:"search",value:d,onChange:function(e){var n=e.target.value;p(n),""!==e.target.value?t(je({query:n,content:a})):t(Oe())},onBlur:function(){console.log("focus out"),""===d&&s(!1)}})))}function ct(){var e=Object(o.c)((function(e){return e.user})),t=Object(n.useState)(!1),a=Object(ze.a)(t,2),c=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(nt,{show:c,closeHandler:function(){return l(!1)},user:e}),r.a.createElement(Xe.a,{className:"topnav justify-content-end"},r.a.createElement(Xe.a.Item,{className:"topnav topnav-navitem topnav-search"},r.a.createElement(rt,null)),r.a.createElement(Xe.a.Item,{className:"topnav topnav-navitem topnav-notifications",onClick:function(){return console.log("'Notifications' clicked")}},r.a.createElement(Qe,{icon:$e.b})),r.a.createElement(Xe.a.Item,{className:"topnav topnav-navitem topnav-settings",onClick:function(){return console.log("'Settings' clicked")}},r.a.createElement(Qe,{icon:$e.f})),r.a.createElement(Xe.a.Item,{className:"topnav topnav-navitem topnav-avatar",onClick:function(){return l(!0)}},r.a.createElement(Ze,{image:e.avatar}))))}var lt=a(250);function ot(e){var t=e.label,a=e.to,n=e.activeOnlyWhenExact,c=e.icon,l=e.iconSize,o=e.dropdown,i=e.expanded,s=e.sub,u=Object(Ae.h)({path:a,exact:n})||i;return r.a.createElement(Xe.a.Link,{as:Le.b,to:a,className:"navlink".concat(u?" navlink-active active":"").concat(o?" navlink-dropdown":"").concat(s?" navlink-sub":"")},c&&r.a.createElement(Ke.a,{className:"navlink-icon".concat(u?" navlink-icon-active":""),icon:c,size:l||"lg"}),t,o&&r.a.createElement(Ke.a,{className:"navlink-chevron ".concat(i?"fa-rotate-180":""),icon:$e.e,size:"lg"}))}function it(){var e=Object(o.b)(),t=Object(n.useState)(!1),a=Object(ze.a)(t,2),c=a[0],l=a[1];return r.a.createElement(Xe.a,{className:"sidenav flex-column col-sm-3 col-lg-2 d-none d-sm-block"},r.a.createElement("img",{className:"sidenav-logo",src:"/images/logo_white_transparent.png",alt:"cPortfolio logo"}),r.a.createElement(Xe.a.Item,{className:"sidenav-item"},r.a.createElement(ot,{to:"/homepage",label:"Overview",icon:$e.c})),r.a.createElement("div",{className:"sidenav-group".concat(c?" sidenav-group-expanded":"")},r.a.createElement(Xe.a.Item,{className:"sidenav-item",onClick:function(){return l(!c)}},r.a.createElement(ot,{dropdown:!0,expanded:c,to:"/dashboard/content",label:"Content",icon:$e.q,activeOnlyWhenExact:!0})),r.a.createElement(lt.a,{in:c},r.a.createElement("div",{className:"collapse-group"},r.a.createElement(Xe.a.Item,{className:"sidenav-item"},r.a.createElement(ot,{sub:!0,to:"/dashboard/content/addContent",label:"New project",icon:$e.k})),r.a.createElement(Xe.a.Item,{className:"sidenav-item"},r.a.createElement(ot,{sub:!0,to:"/dashboard/content/addFile",label:"New file upload",icon:$e.k}))))),r.a.createElement(Xe.a.Item,{className:"sidenav-item"},r.a.createElement(ot,{to:"/dashboard/profile",label:"Profile",icon:$e.a})),r.a.createElement(Xe.a.Item,{className:"sidenav-item"},r.a.createElement(ot,{to:"/dashboard/sharepages",label:"Share",icon:$e.n})),r.a.createElement(Xe.a.Item,{className:"sidenav-item",onClick:function(){return e(ie())}},r.a.createElement(ot,{to:"/",label:"Sign out",icon:$e.p,activeOnlyWhenExact:!0})))}function st(){var e=Object(o.c)((function(e){return e.user})),t=e.background,a=e.emails;return r.a.createElement("div",{className:"rightnav"},r.a.createElement("div",{className:"box"},t?r.a.createElement(tt.a,{className:"background",src:e.background}):r.a.createElement("div",{className:"default-background"}),r.a.createElement(tt.a,{className:"avatar",src:e.avatar})),r.a.createElement("div",{className:"name"},e.firstName," ",e.lastName),r.a.createElement("div",{className:"email-box"},a&&a.map((function(e){return r.a.createElement("div",{className:"email",key:e},e)}))))}function ut(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.user})),a=Object(o.c)((function(e){return e.profile}));return Object(n.useEffect)((function(){function n(){return(n=Object(k.a)(C.a.mark((function a(){return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e(me(t.profile));case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}t.profile&&t.profile!==a.id&&function(){n.apply(this,arguments)}()}),[e,t,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ct,null),r.a.createElement(it,null),r.a.createElement(st,null),r.a.createElement("br",null),r.a.createElement("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 px-4"},r.a.createElement(Xe.a,{className:"flex-column"},r.a.createElement("div",{className:"homepage-heading"},r.a.createElement("div",{className:"pageheading-rectangle1"},r.a.createElement("h1",{className:"pageheading-heading"},"Welcome ",t.username),r.a.createElement("div",{className:"pageheading-decoration1"}),r.a.createElement("div",{className:"pageheading-decoration2"}))),r.a.createElement("div",{className:"main"},r.a.createElement(Xe.a.Item,null,r.a.createElement(ot,{to:"/dashboard/content",activeOnlyWhenExact:!0,label:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,null,r.a.createElement("div",{className:"dashboard"},r.a.createElement(Ke.a,{className:"icon",icon:$e.m}),r.a.createElement("div",{className:"heading"},"DASHBOARD"),r.a.createElement("div",{className:"rectangle1"}),r.a.createElement("div",{className:"rectangle2"}),r.a.createElement("div",{className:"rectangle3"}),r.a.createElement("div",{className:"rectangle4"}))))})),r.a.createElement(Ge.a,null,r.a.createElement(Xe.a.Item,null,r.a.createElement(ot,{to:"/dashboard/profile",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,null,r.a.createElement("div",{className:"profile"},r.a.createElement(Ke.a,{className:"icon",icon:$e.r}),r.a.createElement("div",{className:"heading"},"PROFILE"),r.a.createElement("div",{className:"rectangle1"}),r.a.createElement("div",{className:"rectangle2"}),r.a.createElement("div",{className:"rectangle3"}),r.a.createElement("div",{className:"rectangle4"}))))})),r.a.createElement(Xe.a.Item,null,r.a.createElement(ot,{to:"/dashboard/content/addContent",label:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"add-content"},r.a.createElement(Ke.a,{className:"icon",icon:$e.g}),r.a.createElement("div",{className:"heading"},"ADD TEXT"),r.a.createElement("div",{className:"rectangle1"}),r.a.createElement("div",{className:"rectangle2"}),r.a.createElement("div",{className:"rectangle3"}),r.a.createElement("div",{className:"rectangle4"})))}))),r.a.createElement(Xe.a.Item,null,r.a.createElement(ot,{to:"/dashboard/content/addFile",label:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"add-file"},r.a.createElement(Ke.a,{className:"icon",icon:$e.j}),r.a.createElement("div",{className:"heading"},"ADD FILE"),r.a.createElement("div",{className:"rectangle1"}),r.a.createElement("div",{className:"rectangle2"}),r.a.createElement("div",{className:"rectangle3"}),r.a.createElement("div",{className:"rectangle4"})))})),r.a.createElement(Xe.a.Item,null,r.a.createElement(ot,{to:"/dashboard/sharepages",label:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"share"},r.a.createElement(Ke.a,{className:"icon",icon:$e.a}),r.a.createElement("div",{className:"heading"},"SHARE VIEW"),r.a.createElement("div",{className:"rectangle1"}),r.a.createElement("div",{className:"rectangle2"}),r.a.createElement("div",{className:"rectangle3"}),r.a.createElement("div",{className:"rectangle4"})))}))))))}function mt(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.user})),a=ea.filter((function(e){return"dashboard"in e}));return Object(n.useEffect)((function(){function a(){return(a=Object(k.a)(C.a.mark((function a(){return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e(me(t.profile));case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()})),r.a.createElement(r.a.Fragment,null,r.a.createElement(ct,null),r.a.createElement(He.a,{fluid:!0},r.a.createElement(Ge.a,null,r.a.createElement(it,null),r.a.createElement("main",{role:"main",className:"dashboard-main col-sm-9 col-lg-10 ml-sm-auto px-4"},r.a.createElement(Ae.d,null,a.map((function(e,t){return r.a.createElement(Ae.b,{key:t,path:e.path,exact:e.exact,children:e.dashboard})})))))))}var dt=a(44),pt=a.n(dt),ft=a(129);function Et(e){var t=e.tag,a=e.colour,n=e.shape;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tag tag-colour-".concat(a," tag-shape-").concat(n),onClick:function(){return console.log("'".concat(t,"' tag clicked."))}},t))}var bt=a(81),gt=a(127),ht=a.n(gt),vt=(a(237),a(128)),jt=a.n(vt),Ot=a(206);function Nt(e){var t=e.content,a=e.show,c=e.closeHandler,l=Object(n.useState)(t),i=Object(ze.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(!t.content||t.content.includes("res.cloudinary.com")?"":t.content),d=Object(ze.a)(m,2),E=d[0],b=d[1],g=Object(n.useState)(),h=Object(ze.a)(g,2),v=h[0],j=h[1],N=Object(n.useState)(t.tags),C=Object(ze.a)(N,2),k=C[0],y=C[1],w=Object(n.useState)(Object(Ot.default)(s.displayDate)),x=Object(ze.a)(w,2),S=x[0],F=x[1],I=Object(n.useState)(!1),P=Object(ze.a)(I,2),D=P[0],L=P[1],A=function(){return L(!D)},H=Object(o.b)(),G=function(e){return u(Object(f.a)(Object(f.a)({},s),{},Object(p.a)({},e.target.id,e.target.value)))},R=function(e){var a=Object(O.a)(k);a[e.target.id]=e.target.value,y(a),u(Object(f.a)(Object(f.a)({},t),{},{tags:a}))};return r.a.createElement(et.a,{size:"lg",show:a,onHide:c},r.a.createElement(et.a.Header,null,r.a.createElement(et.a.Title,null,"Edit Content")),r.a.createElement(et.a.Body,null,r.a.createElement(Ue.a,null,r.a.createElement(Ue.a.Group,{controlId:"title"},r.a.createElement(Ue.a.Label,null,"Title"),r.a.createElement(Ue.a.Control,{type:"text",value:s.title,onChange:G})),r.a.createElement(Ue.a.Group,{controlId:"description"},r.a.createElement(Ue.a.Label,null,"Description"),r.a.createElement(Ue.a.Control,{type:"text",value:s.description,onChange:G})),r.a.createElement("div",{className:"content"},r.a.createElement(Be.b,{inline:!0,name:"contenttype",checked:!D,onChange:A},"Text"),r.a.createElement(Be.b,{inline:!0,name:"filetype",checked:D,onChange:A},"File")),D?r.a.createElement(Ue.a.Group,{controlId:"file"},r.a.createElement(Ue.a.Label,null,"File"),r.a.createElement("br",null),r.a.createElement("input",{type:"file",name:"file",onChange:function(e){return j(e.target.files[0])}})):r.a.createElement(Ue.a.Group,{controlId:"content"},r.a.createElement(Ue.a.Label,null,"Content"),r.a.createElement(ht.a,{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link"],["clean"]]},theme:"snow",value:E,onChange:function(e){return b(e)}})),r.a.createElement(Ue.a.Group,{className:"mt-3",controlId:"tags"},r.a.createElement(Ue.a.Label,null,"Tags")),k.map((function(e,a){return r.a.createElement(Ue.a.Group,{controlId:a},r.a.createElement(at.a,{className:"mb-3"},r.a.createElement(Ue.a.Control,{as:"textarea",rows:"1",value:e,onChange:R}),r.a.createElement(at.a.Append,null,r.a.createElement(We.a,{variant:"outline-secondary",id:a,onClick:function(e){return function(e){var a=Object(O.a)(k);a.splice(e,1),y(a),u(Object(f.a)(Object(f.a)({},t),{},{tags:a}))}(a)}},"Delete"))))})),r.a.createElement(Ge.a,{className:"ml-1 mb-3"},r.a.createElement("div",null,r.a.createElement(We.a,{onClick:function(){var e=[].concat(Object(O.a)(k),[""]);y(e),u(Object(f.a)(Object(f.a)({},t),{},{tags:e}))}},"Add Tag"),r.a.createElement("br",null))),r.a.createElement("div",{className:"mb-3"},r.a.createElement(Ue.a.Label,null,"Date"),r.a.createElement("br",null),r.a.createElement(jt.a,{selected:S,onSelect:function(e){return function(e){F(e);var a=new Date(e).toISOString();u(Object(f.a)(Object(f.a)({},t),{},{displayDate:a}))}(e)}})))),r.a.createElement(et.a.Footer,null,r.a.createElement(We.a,{variant:"primary",onClick:function(e){j("undefined"),c()}},"Cancel"),r.a.createElement(We.a,{variant:"warning",onClick:function(){console.log(s);var e=new FormData;for(var t in s)e.set(t,s[t]);for(var a=0;a<s.tags.length;a++)e.delete("tags"),e.append("tags[]",s.tags[a]);D&&v?(e.set("file",v),e.delete("content")):D||e.set("content",E),H(K(e)).then((function(){return H(X())})).then((function(){return c()}))}},"Save changes")))}function Ct(e){var t=e.content,a=e.show,n=e.closeHandler,c=Object(o.b)();return r.a.createElement(et.a,{show:a,onHide:n},r.a.createElement(et.a.Header,null,r.a.createElement(et.a.Title,null,"Delete Content")),r.a.createElement(et.a.Body,null,"Are you sure you want to delete ",r.a.createElement("b",null,t.title),"?"),r.a.createElement(et.a.Footer,null,r.a.createElement(We.a,{variant:"primary",onClick:n},"No, cancel"),r.a.createElement(We.a,{variant:"danger",onClick:function(){c(Q(t.id)).then((function(){return c(X())})).then((function(){return n()}))}},"Yes, delete")))}function kt(e){var t=e.content,a=Object(n.useState)(!1),c=Object(ze.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(ze.a)(i,2),u=s[0],m=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nt,{content:t,show:l,closeHandler:function(){return o(!1)}}),r.a.createElement(Ct,{content:t,show:u,closeHandler:function(){return m(!1)}}),r.a.createElement(bt.a,{className:"contentitemmenu",alignRight:!0},r.a.createElement(bt.a.Toggle,{className:"contentitemmenu contentitemmenu-button",as:Ke.a,icon:$e.i,size:"lg"}),r.a.createElement(bt.a.Menu,{className:"contentitemmenu contentitemmenu-dropdown",alignRight:!0},r.a.createElement(bt.a.Item,{className:"contentitemmenu contentitemmenu-item",onClick:function(){return o(!0)}},"Edit"),r.a.createElement(bt.a.Item,{className:"contentitemmenu contentitemmenu-item",onClick:function(){return m(!0)}},"Delete"))))}var yt=a(107),wt=a(108),xt=function(e){return e?Intl.DateTimeFormat("en-AU",{day:"2-digit",month:"long",year:"numeric"}).format(Date.parse(e)):""},St=function(e){return e?yt(e)?wt(e.split("?")[0])?"image":"url":"text":null},Ft=a(107),It=a(108);function Pt(e){var t=e.content,a=t.id,n=t.title,c=t.description,l=t.displayDate,o=t.tags,i=xt(l);1===o.length&&(o=o[0].split(",")),o=t.tags.map((function(e){return"string"===typeof e?{tag:e,variant:"default"}:e}));var s=!1;return t.content&&Ft(t.content)&&It(t.content.split("?")[0])&&(s=!0),r.a.createElement(He.a,{className:"contentitem contentitem-container",key:a},r.a.createElement("div",{className:"contentitem contentitem-card"},r.a.createElement(Ge.a,{className:"contentitem contentitem-head"},r.a.createElement(Re.a,{xs:11},r.a.createElement(Ge.a,{className:"contentitem contentitem-title"},n),r.a.createElement(Ge.a,{className:"contentitem contentitem-date"},i)),r.a.createElement(Re.a,null,r.a.createElement(Ge.a,{className:"contentitem contentitem-menu"},r.a.createElement(kt,{content:t})))),r.a.createElement(Ge.a,{className:"contentitem contentitem-body"},s&&r.a.createElement(Re.a,{className:"contentitem contentitem-image-container",md:3},r.a.createElement(Ge.a,{className:"contentitem contentitem-image-container"},r.a.createElement("img",{className:"contentitem contentitem-image",src:t.content,alt:n}))),r.a.createElement(Re.a,null,r.a.createElement(Ge.a,null,r.a.createElement("p",{className:"contentitem contentitem-description"},c)),r.a.createElement(Ge.a,null,!s&&r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement(ft.a,{content:t.content}))))),r.a.createElement(Ge.a,{className:"contentitem contentitem-footer"},r.a.createElement("div",{className:"contentitem contentitem-container contentitem-tags"},o.map((function(e,t){return r.a.createElement(Et,{key:t,colour:e.variant,shape:0===t?"first":t===o.length-1?"last":"mid",tag:e.tag})}))))))}function Dt(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.app.loading.getContent})),a=Object(o.c)((function(e){return e.user})),c=Object(o.c)((function(e){return e.search})),l=Object(o.c)((function(e){return e.content})),i=c.active?c.content:l;return Object(n.useEffect)((function(){function t(){return(t=Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(X());case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}a.content&&a.content.length!==l.length&&function(){t.apply(this,arguments)}()}),[e,a,l]),r.a.createElement("div",{className:"flex-wrap pt-3 pb-2 mb-3"},r.a.createElement(st,null),r.a.createElement("div",{className:"content-box"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,r.a.createElement(pt.a,null)),r.a.createElement("p",null,r.a.createElement(pt.a,{count:3}))):i.map((function(e){return r.a.createElement(Pt,{content:e,key:e.id})}))))}function Lt(e){var t=e.projects,a=e.profile,c=e.updateProfile,l=e.updateProjects,i=e.closeProjectField,s=Object(o.c)((function(e){return e.content})),u=Object(n.useState)(),m=Object(ze.a)(u,2),d=m[0],p=m[1],E=function(e){for(var t=0;t<s.length;t++)if(s[t].id===e)return s[t]};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue.a,null,r.a.createElement(Ue.a.Group,{controlId:"exampleForm.SelectCustom"},r.a.createElement(Ue.a.Label,null,"Select Project"),r.a.createElement(Ue.a.Control,{value:d,onChange:function(e){p(e.target.value)},as:"select",custom:!0},s.map((function(e){return r.a.createElement("option",{id:e.id,key:e.id,value:e.id},e.title)}))),r.a.createElement("br",null),r.a.createElement(We.a,{onClick:function(){var e=E(d),n=[].concat(Object(O.a)(t),[e]);l(n);for(var r=[],o=0;o<n.length;o++)r.push(n[o].id);c(Object(f.a)(Object(f.a)({},a),{},{projects:r})),i()}}," Add "))))}function At(e){var t=e.profile,a=e.projects,c=e.show,l=e.closeHandler,i=Object(o.b)(),s=Object(n.useState)(t),u=Object(ze.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(a),E=Object(ze.a)(p,2),b=E[0],g=E[1],h=Object(n.useState)(t.education),v=Object(ze.a)(h,2),j=v[0],N=v[1],C=Object(n.useState)(t.experience),k=Object(ze.a)(C,2),y=k[0],w=k[1],x=Object(n.useState)(),S=Object(ze.a)(x,2),F=S[0],I=S[1],P=Object(n.useState)(),D=Object(ze.a)(P,2),L=D[0],A=D[1],H=Object(n.useState)(!1),G=Object(ze.a)(H,2),R=G[0],T=G[1],z=function(e){var t=Object(O.a)(j);t[e.target.id]=e.target.value,N(t),d(Object(f.a)(Object(f.a)({},m),{},{education:t}))},B=function(e){var t=Object(O.a)(y);t[e.target.id]=e.target.value,w(t),d(Object(f.a)(Object(f.a)({},m),{},{experience:t}))};return r.a.createElement(et.a,{size:"lg",show:c,onHide:l},r.a.createElement(et.a.Header,null,r.a.createElement(et.a.Title,null,"Edit Profile")),r.a.createElement(et.a.Body,null,r.a.createElement(Ue.a.Group,{controlId:"logo"},r.a.createElement(Ue.a.Label,null,"Logo"),r.a.createElement("br",null),r.a.createElement("input",{className:"mb-3",type:"file",name:"logo",onChange:function(e){return I(e.target.files[0])}}),r.a.createElement("br",null),r.a.createElement(Ge.a,null,r.a.createElement(We.a,{className:"ml-3",onClick:function(){return I("undefined")}}," Delete "),r.a.createElement(We.a,{className:"ml-3",onClick:function(){var e=new FormData;e.set("file",F),i(fe(e)).then((function(){return i(me(m.id))})).then((function(){return l()}))}}," Save Logo "))),r.a.createElement(Ue.a.Group,{controlId:"resume"},r.a.createElement(Ue.a.Label,null,"Resume"),r.a.createElement("br",null),r.a.createElement("input",{className:"mb-3",type:"file",name:"resume",onChange:function(e){return A(e.target.files[0])}}),r.a.createElement("br",null),r.a.createElement(Ge.a,null,r.a.createElement(We.a,{className:"ml-3",onClick:function(){return A("undefined")}}," Delete "),r.a.createElement(We.a,{className:"ml-3",onClick:function(){var e=new FormData;e.set("file",L),i(Ee(e)).then((function(){return i(me(m.id))})).then((function(){return l()}))}}," Save Resume "))),r.a.createElement(Ue.a,null,r.a.createElement(Ue.a.Group,{controlId:"education"},r.a.createElement(Ue.a.Label,null,"Education")),j.map((function(e,t){return r.a.createElement(Ue.a.Group,{controlId:t},r.a.createElement(at.a,{className:"mb-3"},r.a.createElement(Ue.a.Control,{as:"textarea",rows:"1",value:e,onChange:z}),r.a.createElement(at.a.Append,null,r.a.createElement(We.a,{variant:"outline-secondary",id:t,onClick:function(e){return function(e){var t=Object(O.a)(j);t.splice(e,1),N(t),d(Object(f.a)(Object(f.a)({},m),{},{education:t}))}(t)}},"Delete"))))})),r.a.createElement(We.a,{onClick:function(){var e=[].concat(Object(O.a)(j),[""]);N(e),d(Object(f.a)(Object(f.a)({},m),{},{education:e}))}},"Add Education"),r.a.createElement(Ue.a.Group,{className:"mt-3",controlId:"experience"},r.a.createElement(Ue.a.Label,null,"Experience")),y.map((function(e,t){return r.a.createElement(Ue.a.Group,{controlId:t},r.a.createElement(at.a,{className:"mb-3"},r.a.createElement(Ue.a.Control,{as:"textarea",rows:"1",value:e,onChange:B}),r.a.createElement(at.a.Append,null,r.a.createElement(We.a,{variant:"outline-secondary",id:t,onClick:function(e){return function(e){var t=Object(O.a)(y);t.splice(e,1),w(t),d(Object(f.a)(Object(f.a)({},m),{},{experience:t}))}(t)}},"Delete"))))})),r.a.createElement(We.a,{onClick:function(){var e=[].concat(Object(O.a)(y),[""]);w(e),d(Object(f.a)(Object(f.a)({},m),{},{experience:e}))}},"Add Experience"),r.a.createElement(Ue.a.Group,{className:"mt-3",controlId:"projects"},r.a.createElement(Ue.a.Label,null,"Projects")),b.map((function(e,t){return r.a.createElement(Ue.a.Group,{controlId:t},r.a.createElement(at.a,{className:"mb-3"},r.a.createElement(Ue.a.Control,{typeof:"text",value:e.title,readOnly:!0}),r.a.createElement(at.a.Append,null,r.a.createElement(We.a,{variant:"outline-secondary",id:t,onClick:function(e){return function(e){var t=Object(O.a)(b);t.splice(e,1),g(t);for(var a=[],n=0;n<b.length;n++)a.push(b[n].id);d(Object(f.a)(Object(f.a)({},m),{},{projects:a}))}(t)}},"Delete"))))})),"\n",R&&r.a.createElement(Lt,{projects:b,profile:m,updateProfile:d,updateProjects:g,closeProjectField:function(){T(!1)}}),"\n",!R&&r.a.createElement(We.a,{onClick:function(){T(!0)}},"New Project"))),r.a.createElement(et.a.Footer,null,r.a.createElement(We.a,{variant:"primary",onClick:l},"Cancel"),r.a.createElement(We.a,{variant:"warning",onClick:function(){i(de(m)).then((function(){return i(me(m.id))})).then((function(){return l()}))}},"Save changes")))}function Ht(e){var t=e.profile,a=e.show,n=e.closeHandler,c=Object(o.b)();return r.a.createElement(et.a,{show:a,onHide:n},r.a.createElement(et.a.Header,null,r.a.createElement(et.a.Title,null,"Delete Profile")),r.a.createElement(et.a.Body,null,"Are you sure you want to delete your profile ",r.a.createElement("b",null,t.email),"?"),r.a.createElement(et.a.Footer,null,r.a.createElement(We.a,{variant:"primary",onClick:n},"No, cancel"),r.a.createElement(We.a,{variant:"danger",onClick:function(){c(pe(t.id)).then((function(){return c(me())})).then((function(){return n()}))}},"Yes, delete")))}function Gt(e){var t=e.profile,c=e.projects,l=Object(o.c)((function(e){return e.user})),i=Object(n.useState)(!1),s=Object(ze.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(!1),p=Object(ze.a)(d,2),f=p[0],E=p[1],b=t.logo,g=t.education,h=t.experience,v="//docs.google.com/gview?url="+t.resume+"&embedded=true",j=a(108),O=a(107),N=g.length>0,C=h.length>0,k=c.length>0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(At,{profile:t,projects:c,show:u,closeHandler:function(){return m(!1)}}),r.a.createElement(Ht,{profile:t,show:f,closeHandler:function(){return E(!1)}}),r.a.createElement(He.a,{className:"profile-user"},r.a.createElement(Ge.a,null,r.a.createElement(Re.a,null,r.a.createElement(tt.a,{roundedCircle:!0,className:"avatar",src:l.avatar})),r.a.createElement(Re.a,null,j&&r.a.createElement(tt.a,{roundedCircle:!0,className:"logo",src:b}))),r.a.createElement("div",{className:"line1"})),r.a.createElement(He.a,{className:"profile-details"},r.a.createElement("div",{className:"name"},l.firstName," ",l.lastName),r.a.createElement("div",{className:"email"},l.email),r.a.createElement("div",{className:"line2"})),r.a.createElement(He.a,{className:"profile-resume"},r.a.createElement(Ge.a,null,r.a.createElement("h4",{className:"heading"},"Resume"),O&&r.a.createElement("iframe",{title:"resume",src:v,style:{width:400,height:500},frameBorder:"0"}))),r.a.createElement(He.a,{className:"profile"},r.a.createElement(Ge.a,null,r.a.createElement(We.a,{variant:"link",className:"profile-edit",onClick:function(){return m(!0)}},"Edit"),r.a.createElement(We.a,{variant:"link",className:"float-right text-danger",onClick:function(){return E(!0)}},"Delete")),r.a.createElement(He.a,{className:"profile-education"},r.a.createElement("div",{className:"box"},r.a.createElement("h4",{className:"heading"},"Education")),N&&r.a.createElement("div",{className:"field"},g.map((function(e){return r.a.createElement("div",{key:e},e)})))),r.a.createElement(He.a,{className:"profile-experience"},r.a.createElement("div",{className:"box"},r.a.createElement("h4",{className:" heading"},"Experience")),C&&r.a.createElement("div",{className:"field"},h.map((function(e){return r.a.createElement("div",{key:e},e)})))),r.a.createElement(He.a,{className:"profile-project"},r.a.createElement("div",{className:"box"},r.a.createElement("h4",{className:"heading"},"Projects")),r.a.createElement("p",null,"\n","\n"),k&&r.a.createElement("div",{className:"card-projects"},c.map((function(e){return r.a.createElement(Pt,{content:e})}))))))}function Rt(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.user})),a=Object(o.c)((function(e){return e.profile})),c=Object(o.c)((function(e){return e.content})),l=Object(o.c)((function(e){return e.profile.isLoaded}));Object(n.useEffect)((function(){function n(){return(n=Object(k.a)(C.a.mark((function a(){return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e(me(t.profile));case 1:case"end":return a.stop()}}),a)})))).apply(this,arguments)}t.profile&&t.profile!==a.id&&function(){n.apply(this,arguments)}()}),[e,t,a]);var i=function(){var e=[];if(l)for(var t=c.length,n=a.projects.length,r=0;r<n;r++)for(var o=a.projects[r],i=0;i<t;i++)if(o===c[i].id){e.push(c[i]);break}return e}();return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Ge.a,null,r.a.createElement("div",{className:"pageheading-rectangle1"},r.a.createElement("h1",{className:"pageheading-heading"},"Your Profile")),"        ",r.a.createElement("div",{className:"pageheading-rectangleMash"}),r.a.createElement("div",{className:"pageheading-decoration1"}),r.a.createElement("div",{className:"pageheading-decoration2"}))),r.a.createElement(Ge.a,null,r.a.createElement("div",{className:"mt-2"},l?r.a.createElement(Gt,{profile:a,projects:i}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,r.a.createElement(pt.a,null)),r.a.createElement("p",null,r.a.createElement(pt.a,{count:3}))))))}function Tt(e){var t=e.isFile,a=Object(o.b)(),c=Object(o.c)((function(e){return e.app.loading.createContent})),l=Object(n.useState)({}),i=Object(ze.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)([]),d=Object(ze.a)(m,2),E=d[0],b=d[1],g=Object(n.useState)(""),h=Object(ze.a)(g,2),v=h[0],j=h[1],N=Object(n.useState)(),C=Object(ze.a)(N,2),k=C[0],y=C[1],w=t,x=Object(n.useState)(!1),S=Object(ze.a)(x,2),F=S[0],I=S[1],P=Object(n.useState)(),D=Object(ze.a)(P,2),L=D[0],A=D[1];console.log(w),console.log(t);var H=function(e){return u(Object(f.a)(Object(f.a)({},s),{},Object(p.a)({},e.target.id,e.target.value)))},G=function(){u({title:"",description:""}),j("")},R=function(){return I(!F)},T=function(e){var t=Object(O.a)(E);t[e.target.id]=e.target.value,b(t),u(Object(f.a)(Object(f.a)({},s),{},{tags:t}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Be.f,{open:F,toggle:R,size:"sm"},r.a.createElement(Be.g,{className:"addcontent-confirmation-modal"},r.a.createElement("div",{className:"addcontent-confirmation-modal"},"Success!",r.a.createElement(Le.b,{className:"addcontent-next-btn",to:"/dashboard/content"},r.a.createElement("strong",null,"See content")," \u2192")))),r.a.createElement("div",{className:"pageheading-rectangle1"},r.a.createElement("h1",{className:"pageheading-heading"},"Add Content"),r.a.createElement("div",{className:"pageheading-decoration1"}),r.a.createElement("div",{className:"pageheading-decoration2"})),r.a.createElement(Ue.a,{className:"mt-5",onSubmit:function(e){e.preventDefault();var t=new FormData;for(var n in s)t.set(n,s[n]);for(var r=0;r<s.tags.length;r++)t.delete("tags"),t.append("tags[]",s.tags[r]);w&&k?t.set("file",k):w||t.set("content",v),a($(t)).then((function(){G(),R(),a(X())}))}},r.a.createElement("div",{className:"addcontent"},r.a.createElement("div",{className:"title"},r.a.createElement("div",{className:"title-box"},r.a.createElement("div",{className:"title-heading"},"Title")),r.a.createElement(Ue.a.Group,{controlId:"title"},r.a.createElement(Ue.a.Control,{className:"title-input",type:"text",value:s.title,onChange:H}))),r.a.createElement("div",{className:"description"},r.a.createElement("div",{className:"description-box"},r.a.createElement("div",{className:"description-heading"},"Description")),r.a.createElement(Ue.a.Group,{controlId:"description"},r.a.createElement(Ue.a.Control,{as:"textarea",rows:"5",value:s.description,onChange:H})),r.a.createElement(Ge.a,null,r.a.createElement("div",null,"\n","\n")),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"content-box"},r.a.createElement("div",{className:"content-heading"},"Content")),w?r.a.createElement(Ue.a.Group,{controlId:"file"},r.a.createElement(Ue.a.Label,null,"File"),r.a.createElement("br",null),r.a.createElement("input",{type:"file",name:"file",onChange:function(e){return y(e.target.files[0])}})):r.a.createElement(Ue.a.Group,{controlId:"content"},r.a.createElement(ht.a,{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link"],["clean"]]},theme:"snow",value:v,onChange:function(e){return j(e)}}))),r.a.createElement("div",{className:"tags"},r.a.createElement("div",{className:"tags-box"},r.a.createElement("div",{className:"content-heading"},"Tags"))),E.map((function(e,t){return r.a.createElement(Ue.a.Group,{controlId:t},r.a.createElement(at.a,{className:"mb-3"},r.a.createElement(Ue.a.Control,{as:"textarea",rows:"1",value:e,onChange:T}),r.a.createElement(at.a.Append,null,r.a.createElement(We.a,{variant:"outline-secondary",id:t,onClick:function(e){return function(e){var t=Object(O.a)(E);t.splice(e,1),b(t),u(Object(f.a)(Object(f.a)({},s),{},{tags:t}))}(t)}},"Delete"))))})),r.a.createElement(Ge.a,{className:"ml-1 mb-3"},r.a.createElement("div",null,r.a.createElement(We.a,{onClick:function(){var e=[].concat(Object(O.a)(E),[""]);b(e),u(Object(f.a)(Object(f.a)({},s),{},{tags:e}))}},"Add Tag"),r.a.createElement("br",null)))),r.a.createElement("div",{className:"title"},r.a.createElement("div",{className:"title-box"},r.a.createElement("div",{className:"title-heading"},"Date"))),r.a.createElement("div",{className:"mb-3"},r.a.createElement(jt.a,{selected:L,onSelect:function(e){return function(e){A(e);var t=s.displayDate;u(Object(f.a)(Object(f.a)({},s),{},{displayDate:t}))}(e)}})),r.a.createElement(We.a,{type:"submit",variant:"info"},c?r.a.createElement(r.a.Fragment,null,"Uploading"," ",r.a.createElement("span",{className:"spinner-login"},r.a.createElement(Me.a,{size:20,color:"#ffffff",loading:c}))):"Create"))))}var zt=a(133),Bt=a(80);function Ut(e){var t=e.label,a=e.icon,n=e.iconSize,c=e.active;return r.a.createElement(Xe.a.Link,{className:"profilebarlink".concat(c?" profilebarlink-active":"")},a&&r.a.createElement(Ke.a,{className:"profilebarlink-icon".concat(c?" profilebarlink-icon-active":""),icon:a,size:n||"lg"}),t)}function Wt(e){var t=e.values;return r.a.createElement("ul",{className:"linkedul-list"},t.map((function(e,t){return r.a.createElement("li",{className:"linkedul-li",key:t},r.a.createElement("span",{className:"linkedul-li-bullet"}),r.a.createElement("div",{className:"linkedul-li-content"},e))})))}function Vt(e){var t=e.user,a=e.profile,c=e.condensed,l=e.condensedTitle,o=e.clickHandler,i=e.section,s=Object(n.useState)("showcase"),u=Object(ze.a)(s,2),m=u[0],d=u[1];return Object(n.useEffect)((function(){i!==m&&d(i)}),[i,m,d]),r.a.createElement("div",{className:"profilebar".concat(c?" profilebar-condensed":"")},r.a.createElement("div",{className:"profilebar-logo"},r.a.createElement("img",{src:a.logo,alt:"Logo"})),r.a.createElement("div",{className:"profilebar-content"},r.a.createElement("div",{className:"profilebar-title"},r.a.createElement("span",{className:"separator"},"/"),r.a.createElement("strong",null,l)),r.a.createElement("div",{className:"profilebar-name",onClick:function(){return o("share-showcase")}},t.firstName," ",t.lastName),a.resume&&r.a.createElement("div",{className:"profilebar-headline"},r.a.createElement("div",null,a.email),r.a.createElement("a",{href:a.resume},"Resume")),r.a.createElement("div",{className:"profilebar-item",onClick:function(){return o("share-education")}},r.a.createElement(Ut,{label:"Education",icon:$e.l,active:"education"===m}),r.a.createElement(Wt,{values:a.education})),r.a.createElement("div",{className:"profilebar-item",onClick:function(){return o("share-experience")}},r.a.createElement(Ut,{label:"Experience",icon:$e.d,iconSize:"sm",active:"experience"===m}),r.a.createElement(Wt,{values:a.experience})),r.a.createElement("div",{className:"profilebar-item",onClick:function(){return o("share-projects")}},r.a.createElement(Ut,{label:"Projects",icon:$e.h,iconSize:"sm",active:"projects"===m}))))}var Mt=a(107),qt=a(108);function Yt(e){var t=e.content,a=e.clickHandler,c=e.closeHandler,l=e.editing,o=e.selected,i=e.toggleSelection,s=t.id,u=t.title,m=t.description,d=t.displayDate,p=Object(n.useState)(!1),f=Object(ze.a)(p,2),E=f[0],b=f[1],g=xt(d),h=!1;t.content&&Mt(t.content)&&qt(t.content.split("?")[0])&&(h=!0);return r.a.createElement(r.a.Fragment,null,r.a.createElement(He.a,{id:s,className:"sharecontentitem sharecontentitem-container".concat(E?"-focused":""),key:s,onClick:function(){E||(a(t),b(!0))}},r.a.createElement("div",{id:"contentdiv",className:"sharecontentitem sharecontentitem-card",style:{backgroundColor:o?"lightblue":"white"}},r.a.createElement(Ge.a,{className:"sharecontentitem sharecontentitem-head"},r.a.createElement(Re.a,{xs:11},r.a.createElement(Ge.a,{className:"sharecontentitem sharecontentitem-title"},u),r.a.createElement(Ge.a,{className:"sharecontentitem sharecontentitem-date"},g)),E&&r.a.createElement(Re.a,null,l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,{className:"sharecontentitem sharecontentitem-menu",onClick:function(e){i(s),o=!o,console.log(o)}},o?"Remove from sharepage":"Add to sharepage")),r.a.createElement(Ge.a,{className:"sharecontentitem sharecontentitem-menu",onClick:function(e){c(e),b(!1)}},r.a.createElement("strong",null,"Return"),r.a.createElement("hr",null),r.a.createElement("br",null)))),r.a.createElement(Ge.a,{className:"sharecontentitem sharecontentitem-body"},h&&r.a.createElement(Re.a,{className:"sharecontentitem sharecontentitem-image-container",md:3},r.a.createElement(Ge.a,{className:"sharecontentitem sharecontentitem-image-container"},r.a.createElement(tt.a,{className:"sharecontentitem sharecontentitem-image",src:t.content,alt:u}))),r.a.createElement(Re.a,null,r.a.createElement(Ge.a,null,r.a.createElement("p",{className:"sharecontentitem sharecontentitem-description"},m)))))))}var _t=a(253);function Jt(e){var t=e.children,a=e.name,c=e.scrollHandler,l=e.className,o=Object(_t.a)(),i=o.ref,s=o.inView,u=Object(n.useState)(s),m=Object(ze.a)(u,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){s!==d&&(c(a,s),p(s))}),[s,p,d,a,c]),r.a.createElement(Ge.a,{ref:i,className:"".concat(l," share-section")},t)}function Xt(e){var t=e.share,a=e.show,n=e.closeHandler,c=Object(o.b)(),l=Object(Ae.g)();return r.a.createElement(et.a,{show:a,onHide:n},r.a.createElement(et.a.Header,null,r.a.createElement(et.a.Title,null,"Delete Sharepage")),r.a.createElement(et.a.Body,null,"Are you sure you want to delete ",r.a.createElement("b",null,t.id),"?"),r.a.createElement(et.a.Footer,null,r.a.createElement(We.a,{variant:"primary",onClick:n},"No, cancel"),r.a.createElement(We.a,{variant:"danger",onClick:function(){console.log("deleteShare"),console.log(t.id),c(we(t.id)).then((function(){return c(te())})).then((function(){return n()})).then((function(){return l.replace("/dashboard/sharepages")}))}},"Yes, delete")))}function $t(){var e,t=Object(o.b)(),a=(e=window.location.href).includes("share")?e.split("/").pop():null,c=Object(o.c)((function(e){return e.app.loading.getSharepage})),l=Object(o.c)((function(e){return e.app.loading.getContent})),i=Object(o.c)((function(e){return e.user})),s=Object(o.c)((function(e){return e.share})),u=Object(o.c)((function(e){return e.content}));Object(n.useEffect)((function(){function e(){return(e=Object(k.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Ce(a));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a]);var m=Object(n.useState)({}),d=Object(ze.a)(m,2),E=d[0],b=d[1],g=Object(n.useState)(!1),h=Object(ze.a)(g,2),v=h[0],j=h[1],O=Object(n.useState)(!1),N=Object(ze.a)(O,2),y=N[0],w=N[1],x=function(e){var t=Object(f.a)(Object(f.a)({},E),{},Object(p.a)({},e,!E[e]));b(t)},S=Object(n.useState)(300),F=Object(ze.a)(S,2),I=F[0],P=F[1],D=Object(n.useState)({}),L=Object(ze.a)(D,2),A=L[0],H=L[1],G=Object(n.useState)(0),R=Object(ze.a)(G,2),T=R[0],z=R[1],B=Object(n.useState)(!1),U=Object(ze.a)(B,2),W=U[0],V=U[1],M=Object(n.useState)("showcase"),q=Object(ze.a)(M,2),Y=q[0],_=q[1],J=Object(n.useState)({collapsed:!1,title:"showcase"}),X=Object(ze.a)(J,2),$=X[0],K=X[1],Q=Object(n.useState)({showcase:!0,education:!1,experience:!1,projects:!1}),Z=Object(ze.a)(Q,2),ee=Z[0],te=Z[1],ae=function(e){e.width<=150&&!$.collapsed?K(Object(f.a)(Object(f.a)({},$),{},{collapsed:!0})):e.width>150&&$.collapsed&&K(Object(f.a)(Object(f.a)({},$),{},{collapsed:!1})),W&&ne(A.id)},ne=function(e){return document.getElementById(e).scrollIntoView({behavior:"smooth"})},re=function(e,t){var a=Object(f.a)(Object(f.a)({},ee),{},Object(p.a)({},e,t));te(a);var n=function(){return a.showcase?"showcase":a.education?"education":a.experience?"experience":a.projects?"projects":void 0};_(n()),$.collapsed&&K(Object(f.a)(Object(f.a)({},$),{},{title:n()}))},ce=function(e){console.log(e.title),P(70),K({collapsed:!0,title:e.title}),z("50%"),H(e),V(!0),setTimeout((function(){return ne(e.id)}),800)},le=function(e){e.stopPropagation(),console.log("close"),P(300),K({collapsed:!1,title:Y}),H({}),z(0),V(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Bt.e,{className:"share"},r.a.createElement(Bt.c,{className:"share-profilebar",size:I,maximumSize:350,minimumSize:60,trackSize:!0},r.a.createElement(Bt.b,null,ae),r.a.createElement(Vt,{user:{firstName:s.firstName,lastName:s.lastName},profile:{logo:s.logo,education:s.education,experience:s.experience,resume:s.resume,email:s.email},condensed:$.collapsed,condensedTitle:$.title,clickHandler:function(e){return document.getElementsByClassName(e)[0].scrollIntoView({behavior:"smooth"})},section:Y})),r.a.createElement(Bt.a,{className:"share-main",scrollable:!W},r.a.createElement(Xt,{share:{id:a},show:y,closeHandler:function(){return w(!1)}}),r.a.createElement(Jt,{name:"top",className:"section-top",scrollHandler:re}),r.a.createElement(Jt,{name:"showcase",className:"share-showcase ".concat(W?"hidden":""),scrollHandler:re},r.a.createElement(Re.a,null,r.a.createElement(Ge.a,null,r.a.createElement("div",{className:"showcase-box"},r.a.createElement(tt.a,{roundedCircle:!0,className:"showcase-avatar ".concat(ee.top?"":"showcase-avatar-condensed"),src:i.avatar}),r.a.createElement(tt.a,{className:"showcase-background ".concat(ee.top?"":"showcase-background-condensed"),src:i.background}))),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,r.a.createElement(pt.a,null)),r.a.createElement("p",null,r.a.createElement(pt.a,{count:1}))))),r.a.createElement(Jt,{name:"projects",className:"share-projects",scrollHandler:re},r.a.createElement(Ge.a,{className:"heading"},r.a.createElement("div",{className:"pageheading-rectangle1"},r.a.createElement("h1",{className:"pageheading-heading"},"Projects"),r.a.createElement("div",{className:"pageheading-decoration1"}),r.a.createElement("div",{className:"pageheading-decoration2"}))),r.a.createElement(Ge.a,null,r.a.createElement(Re.a,null,v?l?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,r.a.createElement(pt.a,null)),r.a.createElement("p",null,r.a.createElement(pt.a,{count:3}))):u.map((function(e,t){return r.a.createElement(Yt,{content:e,key:t,clickHandler:ce,closeHandler:le,editing:!0,selected:E[e.id],toggleSelection:x})})):c?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,r.a.createElement(pt.a,null)),r.a.createElement("p",null,r.a.createElement(pt.a,{count:3}))):s.content.map((function(e,t){return r.a.createElement(Yt,{content:e,key:t,editing:!1,clickHandler:ce,closeHandler:le})}))))),i.isAuthenticated&&(v?r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{onClick:function(){j(!1);var e,n=[],r=Object(zt.a)(u);try{for(r.s();!(e=r.n()).done;){var c=e.value;E[c.id]&&n.push(c.id)}}catch(l){r.e(l)}finally{r.f()}t(ke({id:a,content:n})).then((function(){return t(Ce(a))}))},variant:"primary"}," Save "),r.a.createElement(We.a,{onClick:function(){j(!1)},variant:"danger"}," Cancel ")):r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{onClick:function(){j(!0);var e,t={},a=Object(zt.a)(u);try{for(a.s();!(e=a.n()).done;)t[e.value.id]=!1}catch(c){a.e(c)}finally{a.f()}var n,r=Object(zt.a)(s.content);try{for(r.s();!(n=r.n()).done;)t[n.value.id]=!0}catch(c){r.e(c)}finally{r.f()}b(t)},variant:"primary"}," Edit "),r.a.createElement(We.a,{onClick:function(){console.log(a),w(!0)},variant:"danger"}," Delete ")))),r.a.createElement(Bt.d,{className:"share-focusedcontent",size:T,scrollable:!0},A.title&&r.a.createElement("p",null,r.a.createElement("hr",null),r.a.createElement("strong",null,A.title),r.a.createElement("hr",null),A.description,r.a.createElement("hr",null),"image"===St(A.content)&&r.a.createElement(tt.a,{src:A.content,fluid:!0}),"text"===St(A.content)&&r.a.createElement(ft.a,{content:A.content})))))}function Kt(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.user})),a=Object(o.c)((function(e){return e.app.loading.login}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(Xe.a,{className:"flex-column"},r.a.createElement("h1",null," Sharepages: "),r.a.createElement(r.a.Fragment,null,!a&&t.sharePages.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement(Xe.a.Item,null,r.a.createElement(ot,{to:"/share/".concat(e),activeOnlyWhenExact:!0,label:r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{style:{textDecorationLine:"underline"}}," ",e," "))})))})))),r.a.createElement(We.a,{onClick:function(){console.log(t),e(ye()).then((function(){console.log(t),e(te())}))},variant:"primary"}," New Sharepage "))}function Qt(){var e=Object(o.b)(),t=Object(Ae.g)(),a=Object(o.c)((function(e){return e.user})),c=Object(n.useState)(!1),l=Object(ze.a)(c,2),i=l[0],s=l[1];return i||(s(!0),e(ye()).then((function(){return e(te())})).then((function(){return t.replace("/share/".concat(a.sharePages.slice(-1)[0]))}))),r.a.createElement(r.a.Fragment,null," ","Creating..."," ")}var Zt=[{path:"/",exact:!0,page:r.a.createElement(Te,null),landing:r.a.createElement(qe,null)},{path:"/register",exact:!0,page:r.a.createElement(Te,null),landing:r.a.createElement(Je,null)},{path:"/share",exact:!1,page:r.a.createElement($t,null)}],ea=[{path:"/homepage",exact:!0,page:r.a.createElement(ut,null)},{path:"/dashboard",exact:!1,page:r.a.createElement(mt,null)},{path:"/dashboard/content",exact:!0,dashboard:r.a.createElement(Dt,null)},{path:"/dashboard/content/addFile",exact:!0,dashboard:r.a.createElement(Tt,{isFile:!0})},{path:"/dashboard/content/addContent",exact:!0,dashboard:r.a.createElement(Tt,{isFile:!1})},{path:"/dashboard/profile",exact:!0,page:r.a.createElement(mt,null),dashboard:r.a.createElement(Rt,null)},{path:"/dashboard/sharepages",exact:!0,page:r.a.createElement(mt,null),dashboard:r.a.createElement(Kt,null)},{path:"/dashboard/sharepages/add",exact:!0,page:r.a.createElement(mt,null),dashboard:r.a.createElement(Qt,null)}];a(426);function ta(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.user.isAuthenticated}));return Object(n.useEffect)((function(){function t(){return(t=Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!==w()&&e(te()).then((function(){return e(me())})).then((function(){return e(X())}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()})),r.a.createElement(Le.a,null,r.a.createElement(Ae.d,null,Zt.map((function(e,t){return r.a.createElement(Ae.b,{key:t,exact:e.exact,path:e.path,children:e.page})})),ea.map((function(e,a){return r.a.createElement(aa,{key:a,exact:e.exact,path:e.path,test:t,fallback:"/",children:e.page})}))))}var aa=function(e){var t=e._props,a=e.children,n=e.test,c=e.fallback;return r.a.createElement(Ae.b,Object.assign({},t,{render:function(){return n?a:r.a.createElement(Ae.a,{to:{pathname:c}})}}))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:De},r.a.createElement(ta,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[254,1,2]]]);
//# sourceMappingURL=main.cd0cb2ec.chunk.js.map